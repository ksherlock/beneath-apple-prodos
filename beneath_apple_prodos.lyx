#LyX 1.3 created this file. For more info see http://www.lyx.org/
\lyxformat 221
\textclass book
\begin_preamble
\usepackage{multicol}
\usepackage{tocbibind}
\usepackage{fullpage}
% don't number subsections
%\setcounter{secnumdepth}{0}
\end_preamble
\language english
\inputencoding auto
\fontscheme ae
\graphics default
\paperfontsize default
\spacing single 
\papersize letterpaper
\paperpackage a4
\use_geometry 0
\use_amsmath 0
\use_natbib 0
\use_numerical_citations 0
\paperorientation portrait
\secnumdepth 2
\tocdepth 0
\paragraph_separation indent
\defskip medskip
\quotes_language english
\quotes_times 2
\papercolumns 1
\papersides 1
\paperpagestyle fancy

\layout Title

Beneath Apple ProDOS
\layout Author

Don D.
 Worth and Pieter M.
 Lechner
\layout Date

March 1985
\layout Standard
\align center 
This book is dedicated to my sister, Betsy, who said she had room on her
 bookshelf for another one of my books.
\layout Standard
\align center 
Don D.
 Worth
\newline 

\layout Standard
\align center 
This book is dedicated to my Father and Mother, with a deep sense of appreciatio
n and gratitude.
\layout Standard
\align center 
Pieter M.
 Lechner
\layout Standard


\begin_inset LatexCommand \tableofcontents{}

\end_inset 


\layout Chapter

Introduction
\layout Standard


\emph on 
Beneath Apple ProDOS
\emph default 
 is intended to serve as a companion to the manuals provided by Apple Computer,
 Inc.
 for ProDOS, providing additional information for the advanced programmer
 or for the novice Apple user who wants too know more about the structure
 of disks.
 It is not the intent of this manual to replace the documentation provided
 by Apple.
 Although, for the sake of continuity, some of the material covered in the
 Apple manuals is also covered here, it will be assumed that the reader
 is reasonably familiar with the contents of Apple's 
\emph on 
ProDOS User's Manual
\emph default 
 and 
\emph on 
BASIC Programming With ProDOS
\emph default 
.
 Since all chapters presented here may not be of use to each Apple owner,
 each has been written to stand on its own.
 Readers of out earlier book, 
\emph on 
Beneath Apple DOS
\emph default 
, will notice that we have retained the basic organization of that book
 in an attempt to help them familiarize themselves with 
\emph on 
Beneath Apple ProDOS
\emph default 
 more quickly.
\layout Standard

The information presented here is a result of intensive disassembly and
 annotation of various versions of ProDOS by the authors.
 It also uses as a reference various applications notes and preliminary
 documentation from Apple.
 Although not guarantee can be made concerning the accuracy of the information
 presented here, all of the material included in 
\emph on 
Beneath Apple ProDOS
\emph default 
 has been thoroughly researched and tested.
\layout Standard

There were several reasons for writing 
\emph on 
Beneath Apple ProDOS
\emph default 
:
\layout Itemize

To Show how to access ProDOS and/or the Disk II drive directly from machine
 language.
\layout Itemize

To help you fix damaged disks.
\layout Itemize

To correct errors and omissions in the Apple documentation.
\layout Itemize

To allow you to customize ProDOS to fit your needs.
\layout Itemize

To provide complete information on the diskette formatting.
\layout Itemize

To document the internal logic of ProDOS.
\layout Itemize

To present a critical, non-Apple perspective of ProDOS.
\layout Itemize

To provide more examples of ProDOS programming.
\layout Itemize

To help you learn about how an operating system works.
\layout Standard

When Apple introduced ProDOS Version 1.0.1 in January 1984, three manuals
 were available: the 
\emph on 
ProDOS User's Manual
\emph default 
 documents the use of ProDOS utilities; the 
\emph on 
BASIC Programming With ProDOS
\emph default 
 manual describes the command language supported by the BASIC Interpreter
 and how to write BASIC programs which access the disk; and the 
\emph on 
ProDOS Technical Reference Manual (for the Apple II family)
\emph default 
 documents the assembly language interfaces to ProDOS.
 It should be stated that this technical reference manual represents the
 best internal documentation Apple has ever provided to users of one of
 their operating systems.
 Unfortunately, the 
\emph on 
ProDOS Technical Reference Manual
\emph default 
 documents a prerelease version of ProDOS, and is not entirely accurate
 for the current release at the time of this writing.
 In addition, many sections require further explanation before the interfaces
 they describe can be used at all.
 For example, the discussion of how one adds a command to the BASIC interpreter
 omits several vital pieces of information which are documented fully in
 
\emph on 
Beneath Apple ProDOS
\emph default 
.
 In addition, none of the Apple documentation addresses diskette formatting
 or direct access of the Disk II family of controllers from assembly language.
 
\emph on 
Beneath Apple ProDOS
\emph default 
 was written in an attempt to improve upon the documentation base established
 by Apple.
 Most of the topics covered by Apple's technical manual are covered bere
 also, but they are explained in a different and, we hope, clearer way,
 based upon a programmer's understanding of the code in the ProDOS Kernel
 and the BASIC Interpreter.
 We have also added substantial information on diskette formatting and repair,
 the internal logic and structure of ProDOS, and customizing techniques,
 as well as providing several example programs and quick reference materials.
 
\layout Standard

In addition to the ProDOS specific information provided, many of the discussions
 also apply to other operating systems in the Apple II nd Apple III family
 of machines.
 For example, disk formatting at the track and sector level is for the most
 part the same.
 Also, the format of a ProDOS volume is nearly identical to that of an Apple
 III SOS volume.
\layout Standard

For those readers who would like to have a detailed description of every
 bit of code in the current version of ProDOS, a supplement to this book
 is available and can be ordered directly from Quality Software.
 Please see Chapter 8 for details.
 
\layout Chapter

To Build A Better DOS
\layout Standard

From June 1978 to January 1984, the primary disk operating system for the
 Apple II family as Apple DOS.
 Throughout its first six years of existence, DOS has gone through a number
 of changes, culminating in its final version, DOS 3.3.
 DOS as originally designed primarily to support the BASIC programmer, but
 has since been adopted by assembly language programmers and by the majority
 of Apple users for a variety of applications.
\layout Section

The Deficiencies of DOS
\layout Standard

Although it is a flexible and easy to use operating system, DOS suffers
 from many weaknesses.
 Among them are these:
\layout Itemize


\series bold 
DOS is slow.

\series default 
 Since each byte read from the disk is copied between memory buffers up
 to three times, a large portion of the actual overhead in reading data
 from the disk is in processor manipulation after the data has been read.
 To circumvent this, several 
\begin_inset Quotes eld
\end_inset 

fast DOS
\begin_inset Quotes erd
\end_inset 

 packages have been marketed by third parties which heavily modify DOS to
 prevent multiple buffering under certain circumstances.
\layout Itemize


\series bold 
DOS is device dependent.

\series default 
 When DOS was developed, the only mass storage device for the Apple was
 the Disk II diskette drive.
 Now that diskette drives with increased capacity and hard disks are available,
 a more device independent file organization is needed.
 DOS is limited in the number of files which can be stored on a diskette
 as well as their maximum size.
 These are significant drawbacks when a hard disk with five million bytes
 or more is used.
\layout Itemize

Over the years, new hardware has been introduced by Apple and other manufacturer
s which DOS does not intrinsically support.
 The Apple IIe with its 80-column card and the Thunderclock are examples.
\layout Itemize


\series bold 
DOS is difficult to customize.

\series default 
 There are fe external 
\begin_inset Quotes eld
\end_inset 

hooks
\begin_inset Quotes erd
\end_inset 

 provided to allow system programmers the opportunity to personalize the
 operating system to special applications.
 For example, a new command cannot be added to DOS without version dependent
 patches.
\layout Itemize

DOS file structures and system calls are 
\series bold 
incompatible
\series default 
 with other operating systems.
 Each operating system Apple has announced in the past has had its on way
 of organizing data on a diskette.
 There is no compatibility between DOS, SOS and the Apple Pascal system.
 This means that special utilities must be written to move data between
 these systems and that applications developed in one environment will not
 run without major modifications under any other system.
\layout Itemize

DOS does not provide a consistent mechanism for supporting multiple peripherals
 which can generate hardware 
\series bold 
interrupts
\series default 
.
 In the past, various manufacturers have implemented interrupt handlers
 on their on, often resulting in incompatibilities between their devices.
\layout Itemize

DOS provides little standardization of 
\series bold 
memory use
\series default 
 and of operating system interfaces.
 Most 
\begin_inset Quotes eld
\end_inset 

interesting
\begin_inset Quotes erd
\end_inset 

 locations within DOS are internalized and therefore not officially available
 to the programmer.
 Also, since there is no standard way to set aside portions of memory for
 specific applications, it is difficult to put a program in a 
\begin_inset Quotes eld
\end_inset 

safe
\begin_inset Quotes erd
\end_inset 

 place so that it may co-reside with another application.
\layout Itemize

Although DOS allows most of its commands to be executed from within a BASIC
 program, additional function is needed.
 Under DOS there is no way to conveniently read a file directory from a
 BASIC program, or to save and restore Applesoft's variables, for example.
 Likewise, the implementation of program CHAINing is not integrated into
 DOS.
\layout Itemize

Additional functions under DOS which would be desirable (to name only a
 few) are: a display of the amount of freespace left on a diskette; a way
 to show the address and length parameters stored with a binary file; and
 a way to create unbootable data disks to increase storage space for user
 files.
\layout Section

Enter ProDOS
\layout Standard

In January 1984, Apple introduced a new disk operating system for its Apple
 II family of computers.
 ProDOS is intended to replace DOS 3.3 as the standard Apple II operating
 system, and it is now being shipped with all new Disk II drives instead
 of DOS.
 Although, on the surface, ProDOS is very similar in appearance to DOS 3.3,
 it represents a major redesign and is a new an separate system.
 From the beginning, ProDOS addresses all of DOS's weaknesses mentioned
 above:
\layout Itemize

ProDOS is up to 
\series bold 
eight times faster
\series default 
 than DOS in disk access.
 A new 
\begin_inset Quotes eld
\end_inset 

direct read
\begin_inset Quotes erd
\end_inset 

 mode has been implemented which allows multisector reads to be performed
 directly from the disk to the programmer's buffer without multiple buffering
 within ProDOS itself.
 When performing direct reads, ProDOS can transfer data from the diskette
 at a rate of eight kilobytes per second (at best, DOS can read one kilobyte
 per second).
 Even when reading small amounts of data from the disk, ProDOS does less
 multiple buffering than does DOS.
\layout Itemize

ProDOS provides a 
\series bold 
device independent
\series default 
 interface to 
\begin_inset Quotes eld
\end_inset 

foreign
\begin_inset Quotes erd
\end_inset 

 mass storage devices.
 The concept of a hierarchically organized disk 
\begin_inset Quotes eld
\end_inset 

volume
\begin_inset Quotes erd
\end_inset 

 was created to allow for large capacity devices, and vectors are provided
 to allow device drivers for non-standard disks to be integrated into ProDOS.
 Directories may be dynamically expanded to unlimited size to allow for
 large numbers of files, and an individual file may now occupy up to 16
 million bytes of space on a volume.
 The largest volume which can be supported is 32 million bytes.
\layout Itemize

Device 
\series bold 
driver support
\series default 
 has also been provided for calender/clock peripherals, allowing time and
 date stamping of files, and support for the Apple IIe and IIc 80-column
 hardware is a part of ProDOS.
\layout Itemize

Learning from its mistakes with DOS, Apple has externalized as many ProDOS
 functions as possible through well defined 
\series bold 
system calls
\series default 
.
 In addition to standard file management system calls, interfaces are provided
 to support user written commands to the BASIC interpreter, and to invoke
 a ProDOS command from within an assembly language program.
\layout Itemize

The ProDOS file and volume structure is nearly identical to that of the
 Apple III 
\series bold 
SOS
\series default 
 operating system.
 There are even strong similarities between ProDOS system calls and those
 on Apple's Macintosh! A ProDOS volume may be accessed from SOS directly
 without the need for a special utility program.
 ProDOS system calls are a large subset of those offered under SOS and applicati
ons may be developed which will easily port between the two operating systems.
\layout Itemize

ProDOS defines a protocol which 
\series bold 
interrupting
\series default 
 devices may use to coexist harmoniously in the same machine.
 Up to four interrupt drivers may be installed in ProDOS, and each device
 need not know that the others exist.
\layout Itemize

Most locations of general interest have been placed in externally accessible
 areas of memory called 
\series bold 
global pages
\series default 
.
 Though a global page, a user written program can obtain the current ProDOS
 version number, the most recent values entered on a ProDOS command line,
 or the configuration of the current hardware including the machine type,
 memory size, and the contents of the peripheral card slots.
 In addition, a voluntary system has been provided to 
\begin_inset Quotes eld
\end_inset 

fence off
\begin_inset Quotes erd
\end_inset 

 portions of memory for special uses by marking a memory bit map in the
 system global page.
\layout Itemize

New support has been provided under ProDOS for 
\series bold 
BASIC
\series default 
 programmers.
 A BASIC program can now read a directory file, make a 
\begin_inset Quotes eld
\end_inset 

snapshot
\begin_inset Quotes erd
\end_inset 

 of its variables on disk and later restore them, and chain between programs,
 preserving variables.
\layout Itemize

The 
\series bold 
CATALOG
\series default 
 command under ProDOS displays the address and length values of binary files
 as well as the space remaining on a disk volume.
\layout Section

More ProDOS Advantages
\layout Standard

In addition to addressing needs which grew out of DOS, Apple has also come
 up with 
\series bold 
other enhancements
\series default 
 with ProDOS:
\layout Itemize

A new 
\begin_inset Quotes eld
\end_inset 

smart
\begin_inset Quotes erd
\end_inset 

 RUN command (
\begin_inset Quotes eld
\end_inset 

--
\begin_inset Quotes erd
\end_inset 

) has been added which will automatically perform the function of a RUN,
 EXEC, or BRUN as appropriate depending upon the type of file being RUN.
\layout Itemize

The assembly language interface has been expanded to include obtaining and
 updating statistical information about a file, moving the end of file mark
 in a file, allowing line at a time reads versus byte stream reads, determining
 the names of diskettes mounted in online drives, and creating new files
 or directories.
 In addition, entry points are included to allow applications to pass control
 from program to program and to allocate memory.
\layout Itemize

The language independent, file management portion of ProDOS (the Kernel)
 is a separate unit from the BASIC support routines.
 Applications may be written which reclaim the memory normally occupied
 by BASIC support routines.
\layout Itemize

All ProDOS utilities are menu oriented with enhanced user interfaces.
\layout Itemize

Applesoft string 
\begin_inset Quotes eld
\end_inset 

garbage collection
\begin_inset Quotes erd
\end_inset 

 has been rewritten under ProDOS, and is now many times faster and more
 efficient.
\layout Itemize

Files may be restricted or 
\begin_inset Quotes eld
\end_inset 

locked
\begin_inset Quotes erd
\end_inset 

 by type of access.
 Read only files may be established, or files which may be written but not
 destroyed, for example.
\layout Itemize

The binary save (BSAVE) command has been enhanced under ProDOS.
 BSAVEs into existing binary files whose A and/or L keywords are omitted
 will use the current values of the target file.
 Also, other file types besides BIN files may be BLOADed and BSAVEd, allowing
 direct modification at a byte-by-byte level.
 (For example, one can BLOAD a text file and examine it in memory, making
 modifications to the hex image.)
\layout Itemize

The record length of a random access text file is now stored with the file,
 allowing subsequent BASIC programs to access it without knowing its record
 length.
\layout Itemize

Data disk volumes may now be created which do not contain an image of the
 operating system.
 ProDOS makes more efficient use of the disk, resulting in slightly more
 user storage for files.
\layout Itemize

More information about a file is stored in the directory entry under ProDOS
 than under DOS.
 The length of a binary or Applesoft file, for example, is stored in the
 directory, not in the file itself.
\layout Itemize

The manner in which the ProDOS BASIC Interpreter intercepts a BASIC program's
 command lines has been improved and is more reliable.
 It is now very difficult to 
\begin_inset Quotes eld
\end_inset 

disconnect
\begin_inset Quotes erd
\end_inset 

 ProDOS as could occur under DOS.
\layout Itemize

More file types (256) are available under ProDOS.
 Some are 
\begin_inset Quotes eld
\end_inset 

user definable.
\begin_inset Quotes erd
\end_inset 


\layout Section

What You Give Up With ProDOS
\layout Standard

ProDOS is not for everyone, however.
 There are a number of 
\series bold 
disadvantages
\series default 
 to moving from DOS to ProDOS:
\layout Itemize

Most assembly language programs which ran under DOS will have to be rewritten
 for ProDOS.
 The file management interfaces are completely different, and the 
\begin_inset Quotes eld
\end_inset 

PRINT control-D
\begin_inset Quotes erd
\end_inset 

 mechanism which worked from assembly language under DOS no longer works
 under ProDOS.
 This means that most commercial applications, such as word processors,
 compilers, and spreadsheets, will not be available for ProDOS until they
 are converted.
 This state of affairs will change, however, since ProDOS is now the 
\begin_inset Quotes eld
\end_inset 

official
\begin_inset Quotes erd
\end_inset 

 operating system for Apple II computers.
\layout Itemize

Apple's older version of BASIC, Integer BASIC, is not supported under ProDOS.
 Indeed, Applesoft must be in the motherboard ROMs for the ProDOS BASIC
 Interpreter to work at all.
 This means that only the ProDOS Kernel, used in a standalone, run-time
 environment, will run on an original, Integer Apple II.
 It is likely that someone (probably not Apple) will soon market an Integer
 BASIC interpreter for ProDOS, however.
\layout Itemize

ProDOS requires 64K to support BASIC programming and commands.
 It can be made to run in 48K for run-time assembly language applications,
 but 64K is required to run the BASIC Interpreter which incorporates all
 of the ProDOS commands (e.g.
 CATALOG, BLOAD, etc.).
\layout Itemize

Under BASIC, less memory is available to the program.
 Under DOS, HIMEM was set at $9600 with three file buffers built into DOS.
 Under ProDOS, HIMEM is at $9600 with no file buffers built in.
 Thus, as soon as a ProDOS BASIC program opens a file, HIMEM is moved down
 and 1K less memory is available.
 Likewise.
 since the Kernel occupies the Language Card (or bank switched memory),
 this space may not be used for other purposes.
 (DOS could be relocated into the language card to make more space available
 to BASIC programs.
 Also, Applesoft enhancement aid programs typically were loaded into the
 language card's alternate 4K bank under DOS.
 This is where ProDOS stores its Quit code now).
\layout Itemize

ProDOS only maintains a single directory prefix for all volumes, rather
 than remembering a default prefix for each volume.
 Hence, diskette swapping and access to multiple volumes at once can be
 cumbersome.
\layout Itemize

Although the pathname for a file may be 64 characters, the actual name of
 a file may be only 15 characters, and may not include any special characters
 or blanks (other than 
\begin_inset Quotes eld
\end_inset 

period
\begin_inset Quotes erd
\end_inset 

).
 30 characters were permitted under DOS.
\layout Itemize

Under DOS, up to 16 files may be opened concurrently by a BASIC program.
 Under ProDOS, only eight files may be opened at once.
 Also, an open file 
\begin_inset Quotes eld
\end_inset 

cost
\begin_inset Quotes erd
\end_inset 

 595 bytes under DOS; under ProDOS, a 1024-byte buffer is allocated.
\layout Itemize

BASIC programs which are computationally oriented will run bout four percent
 slower on ProDOS than they did under DOS.
 This is because the ProDOS BASIC Interpreter leaves Applesoft TRACE running
 (invisibly) at all times so that it can monitor the execution of the program
 and perform garbage collection and disk commands.
 On the other hand, if strings or disk accesses are used, this degradation
 of performance will be more than offset by improvements in these areas.
\layout Itemize

Several DOS commands have been removed, including NOMON, MON, and VERIFY.
 There is no way to see the commands in an EXEC file as they are executed.
\layout Itemize

If a ProDOS directory is destroyed, it is harder to reconstruct than was
 the DOS CATALOG track.
 More information is stored in the directory making it harder to identify
 a file's type by examining its data blocks.
 Also, since seedling files do not have index blocks (similar to DOS Track/Secto
r Lists), they are almost impossible to find once their directory entries
 are gone.
\layout Section

Other Differences Between ProDOS and DOS
\layout Standard

There are a few other minor differences between ProDOS and DOS which are
 worth noting:
\layout Itemize

The BRUN command now calls the target program rather than humping to it
 as did DOS.
 The invoked program may return to ProDOS via a return subroutine.
\layout Itemize

CLOSE will not produce an error message if the file named is not currently
 open.
\layout Itemize

APPEND implies WRITE.
 It is not necessary to follow an APPEND command with a WRITE command in
 a BASIC program.
\layout Itemize

ASCII text in ProDOS directory entries or TXT files is stored with the most
 significant bit 
\series bold 
off
\series default 
.
\layout Chapter

Disk\SpecialChar ~
II\SpecialChar ~
Hardware And\SpecialChar ~
Diskette\SpecialChar ~
Formatting
\layout Standard

This chapter will explain how data is stored on a floppy diskette using
 a disk drive (Disk II family or equivalent).
 Much of the information in this chapter is applicable not only to ProDOS,
 but also to other operating systems on the Apple computer (DOS, PASCAL,
 CP/M).
 Because ProDOS isolates device specific code, the contents of this chapter
 should not be considered a prerequisite for understanding succeeding chapters.
\layout Standard

For system housekeeping, ProDOS divides external storage devices into blocks.
 Each 
\series bold 
block
\series default 
 contains 512 bytes of information.
 It is device independent in that each device has its own driver.
 This driver enables ProDOS to read and write blocks, and additionally to
 obtain the status of a device.
 The device itself may actually store information in a number of ways and
 not necessarily in blocks.
 Blocks can be thought of as a conceptual unit of data that was created
 in software, having little or no relation to how data is actually stored
 on an external storage device.
 In fact, the standard Disk II stores information in a track and sector
 format.
 The device driver provides a mapping between these tracks and sectors,
 and the blocks.
 Since a sector contains 256 bytes, two 
\series bold 
sectors
\series default 
 are required for each block.
 There are 560 sectors on a diskette and therefore 280 blocks.
 Chapter 4 deals with how ProDOS allocates these blocks to create files.
\layout Section

Tracks And Sectors
\layout Standard

As stated above, a diskette is divided into tracks and sectors.
 This is done during the initialization or formatting process.
 A track is a physically defined circular path which is concentric with
 the hole in the center of the diskette.
 Each track is identified by its distance from the center of the disk.
 Similar to a phonograph stylus, the read/write head of the disk drive may
 be positioned over any given track.
 The tracks are similar to the grooves in a record, but they are not connected
 in a spiral.
 Much like playing a record, the diskette is spun at a constant speed while
 the data is read from or written to its surface with the read/write head.
 Apple formats its diskettes into 35 tracks, numbered from 0 to 34, track
 0 being the outermost track and track 34 the innermost.
 Figure 3.1 illustrates the concept of tracks, although they are invisible
 to the eye on a real diskette.
\layout Standard

It should be pointed out, for the sake of accuracy, that the disk arm can
 position itself over 70 distinct locations or 
\series bold 
phases
\series default 
.
 To move the arm from one track to the next, two phases of the stepper motor
 which moves the arm must be cycled.
 This implies that data might be stored on 70 tracks, rather than 35.
 Unfortunately, the resolution of the read/write head is such that attempts
 to use these phantom 
\series bold 
half
\series default 
 tracks create so much cross-talk that data is lost or overwritten.
 Although standard ProDOS uses only full tracks (even phases), some copy
 protected disks use half tracks (odd phases) or combinations of the two.
 This will work provided that no data is closer than two phases from other
 data.
 See APPENDIX B for more information on copy protection schemes.
\layout Comment

insert graphic here
\layout Standard

A 
\series bold 
sector
\series default 
 is a subdivision of a track.
 It is the smallest unit of 
\begin_inset Quotes eld
\end_inset 

updatable
\begin_inset Quotes erd
\end_inset 

 data on the diskette.
 While ProDOS reads or writes data a block at a time (two sectors), the
 device driver operates on one sector at a time.
 This allows the device driver to use only a small portion of memory as
 a buffer during read or write operations.
 Apple has used two different track formats to date.
 The initial operating system divided the track into 13 sectors m but all
 recent operating systems use 16 sectors.
 The sectoring does not use the index hole, provided on most diskettes,
 to locate the first sector of the track.
 The implication is that the software must be able to locate any given track
 and sector with no help from the hardware.
 This scheme, known as 
\series bold 
soft sectoring
\series default 
, takes a little more space for storage but allows flexibility, as evidenced
 by the previous change from 13 sectors to 16 sectors per track.
 The following table categorizes the amount of data stored on a diskette
 under ProDOS.
 Both system and data diskettes are categorized.
\layout Comment

chart should have a footnote 
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="12" columns="2">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="right" valignment="top" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Diskette Organization
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\align center 
Tracks
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

35
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Sectors Per Track
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

16
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Sectors Per Diskette
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

560
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Bytes Per Sector
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

256
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Bytes Per Diskette
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

143,360
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Usable Blocks For Data Storage
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
ProDOS System Diskette
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

221
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
ProDOS Data Diskette
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

273
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Usable Bytes Per Diskette
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
ProDOS System Diskette
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

113,152
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
ProDOS Data Diskette
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

139,776
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Section

Track Formatting
\layout Standard

Up to this point we have have broken down the structure of data to the track
 and sector level.
 To better understand how data is stored and retrieved, we will start at
 the bottom and work up.
\layout Standard

As this manual is about software (ProDOS), we will deal primarily with the
 function of hardware rather than explain how it performs that function.
 For example, while data is in fact stored as a continuous stream of analog
 signals, we will deal with discrete 
\series bold 
digital
\series default 
 data, i.e.
 a 
\begin_inset Quotes eld
\end_inset 

0
\begin_inset Quotes erd
\end_inset 

 or a 
\begin_inset Quotes eld
\end_inset 

1
\begin_inset Quotes erd
\end_inset 

.
 We recognize that the hardware converts analog data to digital data, but
 how this is accomplished is beyond the scope of this manual.
 For a full and detailed explanation of the hardware, please rever to Jim
 Sather's excellent book, 
\emph on 
Understanding the Apple II
\emph default 
, published by Quality Software.
\layout Standard

Data bits are recorded on the diskette in precise intervals.
 The hardware recognizes each of these intervals as either a 
\begin_inset Quotes eld
\end_inset 

0
\begin_inset Quotes erd
\end_inset 

 or a 
\begin_inset Quotes eld
\end_inset 

1
\begin_inset Quotes erd
\end_inset 

.
 We will define these intervals to be 
\series bold 
bit cells
\series default 
.
 A bit cell can be thought of as the distance the diskette moves in four
 machine cycles, which is about four microseconds.
 Using this representation, data written on and read back from the diskette
 takes the form shown in Figure 3.2.
 The data pattern shown represents a binary value of 101.
\layout Comment

Insert figure here
\layout Standard

A byte as recorded on the disk consists of eight (8) consecutive bit cells.
 The 
\series bold 
most significant bit
\series default 
 cell is usually referred to as bit cell 7, and the 
\series bold 
least significant
\series default 
 is 
\series bold 
bit
\series default 
 cell 0.
 When reference is made to a specific data bit (i.e.
 data bit 5), it is with respect to the corresponding bit cell (bit cell
 5).
 
\series bold 
Data
\series default 
 is written and read serially, one bit at a time.
 Thus, during a write operation, bit cell 7 of each byte is written first,
 and bit cell 0 is written last.
 Correspondingly, when data is being read back from the diskette, bit cell
 7 is read first and bit cell 0 is read last.
 Figure 3.3 illustrates the relationship of the bits within a byte.
\layout Comment

Insert figure here
\layout Standard

To graphically show how bits are stored and retrieved, we must take certain
 liberties.
 The diagrams are a representation of what functionally occurs within the
 disk drive.
 For the purposes of our presentation, the hardware interface to the diskette
 will be represented as an 8-bit 
\series bold 
data register
\series default 
.
 Since the hardware involved considerably more complication, from a software
 standpoint, it is reasonable to use the data register, as it accurately
 embodies the function of data flow to and from the diskette.
 For a further discussion of the hardware, please see APPENDIX D.
\layout Standard

Figure 3.4 shows the three bits, 101, being read from the diskette data stream
 into the data register.
 Of course, another five bits would be read to fill the register.
\layout Comment

Insert figure here
\layout Standard

Writing data can be depicted much in the same way (See Figure 3.5).
 It should be noted that, while in write mode, zeroes are being brought
 into the data register to replace the data being written.
 It is the task of the software to make sure that the register is loaded
 and instructed to write on 32-cycle (microsecond) intervals.
 If not, zero bits will continue to be written every four cycles, which
 is in fact exactly how self-sync bytes are created.
 Self sync bytes will be covered in detail shortly.
\layout Comment

Insert figure here
\layout Standard

A 
\series bold 
field
\series default 
 is made up of a group of consecutive bytes.
 The number of bytes varies, depending upon the nature of the field.
 The two types of fields present on a diskette are the 
\series bold 
Address Field
\series default 
 and the 
\series bold 
Data Field
\series default 
.
 They are similar in that they both contain a prologue, a data area, a checksum,
 and an epilogue.
 Each field on track is separated from adjacent fields by a number of bytes.
 These areas of separation are called 
\series bold 
gaps
\series default 
 and are provided for two reasons.
 First, they allow the updating of one field without affecting adjacent
 fields (an the Apple, only data fields are updated).
 Secondly, they allow the computer time to decode the address field before
 the corresponding data field can pass beneath the read/write head.
\layout Standard

All gaps are primarily alike in content, consisting of self-sync hexadecimal
 FF's and vary only in the number of bytes they contain.
 Figure 3.6 is a diagram of a portion of a typical track, broken into its
 major components.
\layout Comment

Inert figure here.
\layout Standard

Self sync or auto-sync bytes are special bytes that make up the three different
 types of gaps on a track.
 They are so named because of their ability to automatically bring the hardware
 into synchronization with data bytes on the disk.
 The difficulty in doing this lies in the fact that the hardware reads bits,
 and the data must be stored as 8-bit bytes.
 It has been mentioned that a track is literally a continuous stream of
 data bits.
 In fact, at the but level, there is no way to determine where a byte starts
 or ends, because each bit cell is exactly the same, written in precise
 intervals with its neighbors.
 When the drive is instructed to read data, it will start wherever it happens
 to be on a particular track.
 That could be anywhere among the 50,000 or so bits on a track.
 The hardware finds the first bit cell with data in it and proceeds to read
 the following seven bits of data into the 8-bit register.
 In effect, it assumes that it has started at the beginning of a data byte.
 Of course, in reality, it could have started at any of the 
\begin_inset Quotes eld
\end_inset 

1
\begin_inset Quotes erd
\end_inset 

 bits of the byte.
 Pictured in Figure 3.7 is a small portion of a track.
\layout Comment

Insert figure here
\layout Standard

From looking at the data, there is no way to tell what bytes are represented,
 because we don't know where to start.
 This is exactly the problem that self-sync bytes overcome.
\layout Standard

A 
\series bold 
self-sync
\series default 
 byte is defined to be a hexadecimal FF with a special difference.
 It is, in fact,a 10-bit byte rather than an 8-bit byte.
 Its two extra bits are zeroes.
 Figure 3.8 shows the difference between a normal data hex FF that might
 be found elsewhere on the disk and a self-sync hex FF byte.
\layout Comment

Insert figure here
\layout Standard

A self-sync byte is generated by using a 40-cycle (microsecond) loop while
 writing an FF.
 A bit is written every four cycles, so two of the zero bits brought into
 the data register while the FF was being written are also written to the
 disk, making the 10-bit byte.
 It can be shown, using Figure 3.9, that four self-sync bytes are sufficient
 to guarantee that the hardware is reading valid data.
 The reason for this is that the hardware requires the first bit of a byte
 to be a 
\begin_inset Quotes eld
\end_inset 

1
\begin_inset Quotes erd
\end_inset 

.
 Pictured at the top of the figure is a stream of four self-sync bytes followed
 by a normal FF.
 Each row below that demonstrates what the hardware will read should it
 start reading at any given bit in the first byte.
 In each case, by the time the four sync bytes have passed beneath the read/writ
e head, the hardware will be 
\series bold 
synced
\series default 
 to read the data bytes that follow.
 As long as the disk is left in read mode, it will continue to correctly
 interpret the data unless there is an error on the track.
\layout Comment

Inert figure here
\layout Standard

We can now discuss the particular portions of a track in detail.
 The three gaps will be covered first.
 Unlike some other disk formats, the size of the three gap types will vary
 from drive to drive and even from track to track.
 During the formatting process, ProDOS will start with large gaps and keep
 making them smaller until an entire track can be written without overlapping
 itself.
 A minimum number of self-sync bytes is maintained for each gap type.
 The result is fairly uniform gap sizes within each particular track.
 
\layout Standard


\series bold 
Gap 1
\series default 
 is the first data written to a track during initialization.
 Its purpose is twofold.
 The gap originally consists of 128 self-sync bytes, a large enough area
 to insure that all portions of a track will contain data.
 Since the speed of a particular drive may vary, the total length of the
 track in bytes is uncertain, and the percentage occupied by data is unknown.
 The initialization process is set up, however, so that even on drives of
 differing speeds, the last data field written will overlap Gap 1, providing
 continuity over the entire physical track.
 Unlike earlier operating systems, ProDOS will let you know if your drive
 is too fast or too slow.
 The remaining portion of Gap 1 must be approximately 75% as long as a Gap
 3 on that track, enabling it to serve as a Gap 3 type for Address Field
 number 0 (See Figure 3.6 for clarity).
\layout Standard


\series bold 
Gap 2
\series default 
 appears after each Address Field and before each Data Field.
 Its primary purpose is to provide time for the information in an Address
 Field to be decoded by the computer before a read or write takes place.
 If the gap was too short, the beginning of the Data Field might spin past
 while ProDOS was still determining if this was the sector to be read.
 The 200 cycles that five self-sync bytes provide seems ample time to decode
 an Address Field.
 When a Data Field is written, there is no guarantee that the write will
 occur in exactly the same spot each time.
 This is due to the fact that the drive which is rewriting the Data Field
 may not be the one which originally formatted or wrote it.
 Since the speed of the drives can vary, it is possible that the write could
 start in mid-byte (see Figure 3.10).
 For this reason, the length of Gap 2 varies from five to ten bytes.
 This is not a problem as long as the difference in positioning is not too
 great.
 To insure the integrity of Gap 2 when writing a data field, five self-sync
 bytes are written prior to writing the Data Field itself.
 This serves two purposes.
 Since relatively little time is spent decoding an address field, the five
 bytes help place the Data Field near its original position.
 Secondly, and more importantly, the five self-sync bytes are the minimum
 number required to guarantee read-synchronization.
 It is probable that, in writing a Data Field, at least one sync byte will
 be destroyed.
 This is because, just as in reading bits on the track, the write may not
 begin on a byte boundary, thus altering an existing byte.
 Figure 3.11 illustrates this.
\layout Comment

Insert 2 figures here
\layout Standard


\series bold 
Gap 3
\series default 
 appears after each Data Field and before each Address Field.
 It is longer than Gap 2 and care is taken to make sure it ranges from 16
 to 28 bytes in length.
 It is quite similar in purpose to Gap 2.
 Gap 3 allows the additional time needed to manipulate the data that has
 been read before the next sector is to be read.
 The length of Gap 3 is not as critical as that of Gap 2.
 If the following Address Field is missed, ProDOS can always wait for the
 next time it spins around under the read/write head (one revolution of
 the disk at most).
 Since Address Fields are never rewritten, there is no problem with Gap
 3 providing synchronization, since only the first part of the gap can be
 overwritten or damaged (see Figure 3.10 for clarity).
\layout Subsection

Address Fields
\layout Standard

An examination of the contents of the two types of field is in order.
 The Address Field contains the 
\series bold 
address
\series default 
 or identifying information about the Data Field which follows it.
 The volume, track, and sector number of any given sector can be thought
 of as it 
\begin_inset Quotes eld
\end_inset 

address,
\begin_inset Quotes erd
\end_inset 

 much like a country, city, and street number might identify a house.
 As shown previously in Figure 3.6, there are a number of components which
 make up the Address Field.
 A more detailed illustration is given in Figure 3.12.
\layout Comment

Insert figure here.
\layout Standard

Each byte of the Address Field is encoded into two bytes when written to
 the disk.
 Appendix C describes the 
\begin_inset Quotes eld
\end_inset 

4 and 4
\begin_inset Quotes erd
\end_inset 

 method used for Address Field encoding.
\layout Standard

The 
\series bold 
prologue
\series default 
 consists of three bytes which form a unique sequence, found in no other
 component of the track.
 This fact enables ProDOS to locate an Address Field with almost no possibility
 of error.
 The three bytes are $D5, $AA, and $96.
 The $D5 and $AA are reserved (never written as data), thus insuring the
 uniqueness of the prologue.
 The $96, following this unique string, indicates that the data following
 constitutes an Address Field (as opposed to a Data Field).
 The address information follows next, consisting of the 
\series bold 
volume
\begin_inset Foot
collapsed true

\layout Standard

Volume number is a leftover from earlier operating systems and is not used
 by ProDOS.
\end_inset 


\series default 
, 
\series bold 
track
\series default 
, and 
\series bold 
sector
\series default 
 number and a checksum.
 This information is absolutely essential for ProDOS to know where it is
 positioned on a particular diskette.
 The 
\series bold 
checksum
\series default 
 is computed by exclusive-ORing the first three pieces of information, and
 is used to verify its integrity.
 Lastly follows the 
\series bold 
epilogue
\series default 
, which contains the three bytes $DE, $AA, and $EB.
 The $EB is only partly written during initialization, and is therefore
 never verified when an Address Field is read.
 The epilogue bytes are sometimes referred to as 
\series bold 
bit-slip marks
\series default 
, which provide added assurance that the drive is still in sync with the
 bytes on the disk.
 These bytes are probably unnecessary, but do provide a means of double
 checking.
\layout Subsection

Data Fields
\layout Standard

The other field type is the Data Field.
 Much like the Address Field, it consists of a 
\series bold 
prologue
\series default 
, 
\series bold 
data
\series default 
, 
\series bold 
checksum
\series default 
, and an 
\series bold 
epilogue
\series default 
 (refer to Figure 3.13).
 The Prologue differs only in the third byte.
 The bytes are $D5, $AA, and $AD, which again form a unique sequence, enabling
 ProDOS to locate the beginning of the sector data.
 The data consists of 342 bytes of encoded data.
 (The encoding scheme used is quite complex and is documented in detail
 in Appendix C.) The data is followed by a checksum byte, used to verify
 the integrity of the data just read.
 The epilogue portion of the Data Field is absolutely identical to the epilogue
 in the Address Field and serves the same function.
\layout Comment

Insert figure here
\layout Section

Disk II Block and Sector Interleaving
\layout Standard

Because the Disk II is such an integral part of the Apple II family of machines,
 it is important that it perform efficiently.
 Once major factor in disk drive performance is how the data is arranged
 on the diskette.
 Because the diskette spins and the head that reads and writes the data
 is stationary, it is necessary to wait for a particular portion of a given
 track to pass by.
 This waiting (rotational delay) can add significant time to a disk access
 if the data is poorly arranged.
 
\series bold 
Interleaving
\series default 
 (or skewing) is the arranging of data at the block or sector level to maximize
 access speed.
 It effectively places a gap between blocks or sectors that will normally
 be accessed sequentially, allowing sufficient time for internal housekeeping
 before the next one appears.
 In general, if blocks or sectors are poorly arranged on a track, it is
 usually necessary to wait an entire revolution of the diskette before the
 next desired block or sector can be accessed.
\layout Standard

The first versions of Apple's operating system used 
\series bold 
physical interleaving
\series default 
 on the disk.
 (That is, sectors were written in a particular order on the diskette.) A
 number of different schemes were used in an attempt to maximize performance.
 This worked reasonably well, but because different methods were used for
 different operations, performance suffered.
 Later versions standardized the physical interleaving (as sequential),
 and used a software method to try to maximize performance.
 An attempt was also made to standardize some operations, but performance
 still was not optimal as evidenced by a proliferation of 
\begin_inset Quotes eld
\end_inset 

fast
\begin_inset Quotes erd
\end_inset 

 DOS's.
\layout Standard

ProDOS provides an impressive improvement over Apple's earlier operating
 systems.
 Several factors account for the dramatic improvement.
 The routine to read data is significantly faster, minimizing the delay
 occurring between read operations.
 The data is dealt with in larger pieces (512 vs.
 256 bytes), lowering the number of requests to the code that actually reads
 and writes data (Device Driver).
 And almost all operations involve files stored on sequential blocks.
 As a disk begins to get full, this will not always be possible and some
 file will be discontinuous; but for the most part, all operations (loading
 ProDOS or Applesoft BASIC, reading or writing to files or a directory)
 involve data in contiguous pieces.
 This greatly simplifies the problem of finding an optimal interleaving
 for disk accesses.
\layout Standard

In ProDOS, the interleaving is done in software.
 The 16 sectors are in numerically ascending order on the diskette (0, 1,
 2, \SpecialChar \ldots{}
 15), and are not physically interleaved at all.
 An algorithm is used to translate block numbers into physical sector numbers
 used by the ProDOS device driver.
 For example, if the block number requested were 2, this would be translated
 to track 0, physical sectors 8 and A
\begin_inset Foot
collapsed true

\layout Standard

Those familiar with DOS 3.3 should note that physical sector numbers and
 DOS 3.3 sector numbers are not the same.
 Most 
\begin_inset Quotes eld
\end_inset 

disk utilities
\begin_inset Quotes erd
\end_inset 

 use DOS 3.3 sector numbers and not physical sector numbers.
 The bottom of Table 3.1 shows how DOS 3.3 sector numbers are related to ProDOS
 block numbers.
\end_inset 

.
 Figure 3.14 illustrates the concept of 
\series bold 
software interleaving
\series default 
 and Table 
\begin_inset LatexCommand \ref{tab:ProDOS-Block-Conversion}

\end_inset 

 shows the mapping of physical sectors to blocks for a Disk II or compatible
 drive.
\layout Standard

There are two kinds of interleaving to consider in the case of ProDOS.
 First, there is the interleaving of the two sectors that make up a block.
 This will be referred to as 
\series bold 
intra-block
\series default 
 or 
\begin_inset Quotes eld
\end_inset 

within block
\begin_inset Quotes erd
\end_inset 

 interleaving.
 Second, there is the interleaving between blocks on a given track.
 This will be referred to as 
\series bold 
inter-block
\series default 
 or 
\begin_inset Quotes eld
\end_inset 

between block
\begin_inset Quotes erd
\end_inset 

 interleaving.
 It should be noted that we are concerned primarily with delays within ProDOS
 and the Disk II Device Driver, and not with delays that may be present
 in various application packages.
\layout Standard


\begin_inset Float table
wide false
collapsed false

\layout Caption


\begin_inset LatexCommand \label{tab:ProDOS-Block-Conversion}

\end_inset 

ProDOS Block Conversion Table for Diskettes
\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="39" columns="9">
<features islongtable="true">
<column alignment="left" valignment="top" leftline="true" width="0(null)">
<column alignment="center" valignment="top" leftline="true" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="center" valignment="top" rightline="true" width="0(null)">
<row topline="true">
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PHYSICAL SECTOR
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0 & 2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4 & 6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8 & A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C & E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1 & 3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5 & 7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9 & B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

D & F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

000
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

001
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

002
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

003
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

004
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

005
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

006
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

007
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

008
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

009
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

00F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

011
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

012
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

013
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

014
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

015
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

016
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

017
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

018
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

019
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

01A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

01B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

01C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

01D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

01E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

01F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

020
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

021
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

022
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

023
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

024
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

025
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

026
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

027
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

028
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

029
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

02A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

02B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

02C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

02D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

02E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

02F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

030
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

031
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

032
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

033
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

034
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

035
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

036
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

037
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

038
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

039
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

03A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

03B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

03C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

03D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

03E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

03F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

040
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

041
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

042
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

043
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

044
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

045
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

046
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

047
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

048
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

049
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

04A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

04B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

04C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

04D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

04E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

04F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

050
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

051
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

052
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

053
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

054
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

055
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

056
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

057
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

058
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

059
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

05A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

05B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

05C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

05D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

05E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

05F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

060
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

061
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

062
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

063
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

064
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

065
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

066
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

067
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

068
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

069
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

06A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

06B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

06C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

06D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

06E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

06F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

070
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

071
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

072
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

073
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

074
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

075
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

076
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

077
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 10
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

080
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

081
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

082
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

083
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

084
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

085
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

086
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

087
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 11
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

090
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

091
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

092
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

093
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

094
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

095
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

096
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

097
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TRACK 1A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 1
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
20
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
21
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

108
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

109
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

10A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

10B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

10C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

10D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

10E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

10F
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TRACK 
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
22
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

110
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

111
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

112
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

113
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

114
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

115
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

116
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

117
\end_inset 
</cell>
</row>
<row topline="true">
<cell multicolumn="1" alignment="left" valignment="top" topline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0 & E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D & C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B & A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
9 & 8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
7 & 6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
5 & 4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
3 & 2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
1 & F
\end_inset 
</cell>
</row>
<row topline="true" bottomline="true">
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

DOS 3.3 SECTOR
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 


\layout Comment

Insert figure here
\layout Subsection

Intra-Block Interleaving
\layout Standard

When ProDOS accesses a block, it must of course access the two sectors that
 make up that block.
 There is a small delay after the device driver has accessed the first sector,
 before it can access the second sector.
 This delay is different for Read and Write operations.
 The Read operation is so fast that the disk can read two sectors in a row.
 However, the Write operation takes longer, so for optimal performance there
 must be a gap between the two sectors that make up a block.
 If there wasn't a gap, an entire revolution of the diskette would be required
 for each block written.
 A single sector provides a sufficient gap, so intra-block interleaving
 (within the block) consists of 
\series bold 
one sector
\series default 
.
 The result is that ProDOS is able to write to a given block as rapidly
 as is possible.
 Some time is lost when reading a block, but no other interleaving scheme
 would provide the same overall efficiency.
 Intra-block interleaving is illustrated in Figure 3.15.
\layout Comment

Insert figure here
\layout Subsection

Inter-Block Interleaving
\layout Standard

When ProDOS accesses a number of blocks as required in most disk operations
 (i.e.
 reading or writing a directory or a file), another kind of interleaving
 is involved.
 There will be a delay between accesses, but it is now between blocks rather
 than sectors.
 There is relatively little difference in delay time in the MLI itself between
 reading and writing --- almost all the difference occurs in the device
 driver.
 However, when ProDOS writes a block that is already allocated (i.e.
 part of an existing directory or file), it always reads that block before
 writing to it.
 This requires an entire revolution of the diskette regardless of how the
 interleaving is done.
 It turns out that, just as for intra-block operations, a 
\series bold 
single sector
\series default 
 is a sufficient gap for reading blocks.
 Inter-block interleaving is illustrated in Figure 3.16.
\layout Subsection

Reading Or Writing A Block
\layout Standard

Assume that we wish to access block 2.
 ProDOS passes the request to the device driver which in turn converts the
 block number into its track and sector representation (see Figure 3.14).
 The arm is moved to the proper track (0) and then a sector is read.
 This could be any sector, because the diskette is spinning.
 Sectors are continually read until sector 8 is found.
 The following two sectors are then read (9 and A) which completes the read
 of block 2 (sectors 8 and A).
 Depending on where we start on the track, we could read between 3 and 18
 sectors.
 The same process occurs when writing a single block, with one small difference.
 After sector 8 is located and written to, the delay required to ready the
 data for sector A will cause us to miss reading sector 9.
 This does not alter the amount of rotation necessary to complete the task.
 To summarize, the time required to either read or write a single block
 consists of two factors.
 (We are assuming the track has already been located).
 First, there is the time required to 
\series bold 
locate
\series default 
 the first sector of the block --- this is variable and ranges between 0
 and the time of one full rotation of the diskette.
 Second is the time required to actually 
\series bold 
read or write
\series default 
 the two sectors that make up the block --- this is fixed and always requires
 3/16 rotation of the diskette.
\layout Comment

Insert figure here
\layout Subsection

Reading Or Writing Consecutive Blocks
\layout Standard

Let's examine what occurs when a number of blocks are accessed during reading
 or writing of a typical file.
 We will assume the file is reasonably large and takes up a number of blocks.
 We will confine our observation to a single track in which eight blocks
 comprise the file of interest.
 We will assume track 2, which contains blocks 10 through 17 (as in Figure
 3.17), and we will further assume that the blocks will be accessed sequentially.
 When the read/write head moves to track 2, we will start reading sectors
 until the appropriate sector is found (0 in this case).
 Then each sector is read until all eight blocks are found.
 This will require exactly 
\series bold 
two revolutions
\series default 
 of the disk.
 Writing takes significantly longer because each block is read before being
 written to.
 Therefore, once the first sector of the block in question is located, one
 entire revolution is necessary to write each block.
 Upon writing a block, ProDOS is able to locate the next block immediately,
 read it, wait one revolution, and write it.
 A total of 
\series bold 
ten revolutions
\series default 
 is required to write an entire track as opposed to two revolutions to read
 it.
\layout Comment

Insert figure here
\layout Chapter

Volumes, Directories, And Files
\layout Standard

As was described in Chapter 3, a 16-sector diskette consists of 560 data
 areas of 256 bytes each, called sectors.
 These sectors are arranged on the diskette in 35 concentric rings, called
 tracks, of 16 sectors each.
 The way ProDOS allocates these tracks of sectors is the subject of this
 chapter.
\layout Section

The Diskette Volume
\layout Standard

ProDOS defines a 
\series bold 
volume
\series default 
 to be any (usually direct access) individual mass storage media.
 The discussion which follows assumes this media to be a single 35-track
 diskette, but all of the structures presented here are identical for other
 diskette sizes and even for a hard disk such as the Apple ProFile.
 Another interesting point is that the structure of a ProDOS volume is almost
 identical to that of an Apple III SOS volume.
 This fact allows greater data compatibility between the two operating systems.
\layout Standard

To make the allocation of sectors more manageable, ProDOS pairs them up
 to form 512-byte 
\series bold 
blocks
\series default 
.
 Since there are 16 sectors per track and 560 sectors per diskette volume,
 there are eight blocks per track and 280 blocks per volume.
 These blocks are numbered from 0 to 279 (decimal) or $0000 to $0117 (hexadecima
l).
 The arrangement of blocks on a diskette is shown in Figure 4.1.
 Of course, on a real diskette, skewing (discussed in Chapter 3) would reorder
 the blocks on any given track, but, for the purposes of this discussion,
 the blocks can be assumed to be stored sequentially.
\layout Comment

Insert figure here
\layout Standard

A file, be it BAS, BIN, TXT, or SYS type, consists of one or more blocks
 containing data.
 Since a block is the smallest unit of allocatable space on a ProDOS volume,
 a file will use up at least one block even if it is less than 512 bytes
 long; the remainder of the block is wasted.
 Thus, a file containing 600 characters (or bytes) of data will occupy one
 entire block and 88 bytes of another with 424 bytes wasted.
 Knowing that there are 280 blocks on a diskette, one might expect to be
 able to use up to 280 times 512 or 143,360 bytes of space on a diskette
 for files.
 Actually, the largest file that can be stored in 271 blocks long (or 138,752
 bytes).
 The reason for this is that some of the blocks on the diskette volume must
 be used for what is called overhead.
\layout Subsection

Volume Overhead
\layout Standard

Overhead blocks contain the image of the ProDOS bootstrap loader (which
 is loaded by the ROM on your diskette controller card and, in turn, loads
 the ProDOS system files into memory), a list of file names and locations
 of the files on the diskette, and an accounting of the blocks which are
 free for use by new files or for expansions of existing ones.
 An example of the way ProDOS uses blocks is given in Figure 4.2.
\layout Comment

Insert figure here
\layout Standard

Notice that in the case of this diskette volume, system overhead (that part
 of the diskette which does not actually contain files) falls entirely on
 track 0 of the diskette (blocks 0 through 7).
 In fact, there is room for one block's worth of file data on track 0( block
 7).
 The first block (block 0) is always devoted to the image of the bootstrap
 loader.
 (Block 1 is the SOS bootstrap loader.) Following these, and always starting
 at block 2, is the 
\series bold 
Volume Directory
\series default 
.
 The Volume Directory is the 
\begin_inset Quotes eld
\end_inset 

anchor
\begin_inset Quotes erd
\end_inset 

 of the entire volume.
 On any diskette (or hard disk for that matter) for any version of ProDOS,
 the first or 
\begin_inset Quotes eld
\end_inset 

key
\begin_inset Quotes erd
\end_inset 

 block of the Volume Directory is always in the same place --- block 2.
 Since files can end up anywhere on the diskette, it is through the Volume
 Directory key block that ProDOS is able to find them.
 Thus, just as the card catalog is used to locate a book in a library, the
 Volume Directory is the master index to all of the files on a volume.
 In addition to describing the name, attributes, and placement of each file,
 it also contains the block number of the 
\series bold 
Volume Bit Map
\series default 
 which will be described next.
 The first four bytes of every Volume Directory block are reserved for 
\begin_inset Quotes eld
\end_inset 

pointers
\begin_inset Quotes erd
\end_inset 

 to (the block numbers of) the previous Volume Directory block and the next
 Volume Directory block.
 This structure is called a doubly-linked list and is handy in that, from
 any block, it is easy to move forward or backward thought the directory
 entries.
 The Volume Directory and Volume Bit Map are diagrammed in Figure 4.3.
\layout Comment

Insert figure here.
\layout Subsection

Volume Space Allocation --- The Volume Bitmap
\layout Standard

When a diskette volume is first formatted, only the first seven blocks described
 above are marked in use.
 All of the remainder of the diskette blocks are considered 
\begin_inset Quotes eld
\end_inset 

free
\begin_inset Quotes erd
\end_inset 

 for use with files yet to be created.
 Each time a new block is required for a file, the free block with the lowest
 number is used.
 To keep track of which blocks have been used and which are free, ProDOS
 maintains one block as the Volume Bit Map.
 The Volume Bit Map is located by following a pointer in the Volume Directory,
 however, it is almost always in block 6.
 It consists of 512 bytes, each byte representing eight blocks on the volume.
 If the bytes are examined in binary form, each consists of eight bits having
 a value of one or zero.
 Thus, if block zero is in use as it always is, then the first byte's first
 bit is set to zero.
 If the ninth block (block 8) is free, then the first bit of the second
 byte is set to one.
 Since there are many more bits in the Volume Bit Map (4096 in all) that
 there could ever be blocks on a diskette, only the first 280 (or 35 bytes)
 are used.
 For a 5 megabyte hard disk, like the Apple ProFile, 1241 bytes are needed;
 in this case, since the number of blocks on the volume is stored in the
 Volume Directory, ProDOS automatically knows to expect a bigger Volume
 Bit Map --- one which is three blocks long.
 Bits which do not correspond to a real block (because it would be past
 the end of the volume) are set to zero.
 An example of a Volume Bit Map for the volume mapped in Figure 4.2 is given
 in Figure 4.4.
 Notice that, since three 1-block files have been allocated, a total of
 ten blocks are marked 
\begin_inset Quotes eld
\end_inset 

in use.
\begin_inset Quotes erd
\end_inset 


\layout Section

The Volume Directory
\layout Standard

When ProDOS must find a specified file by name, it first reads block 2 of
 the diskette, the 
\series bold 
key block
\series default 
 of the Volume Directory.
 If the filename is not found in this block, the next directory block is
 read, following the pointer in the third and fourth bytes of the current
 block.
 Typically, the Volume Directory blocks occupy blocks 2 through 5 of a volume.
 Of course, as long as a block pointer exists, linking one block to the
 next, and the first Volume Directory block is block 2, ProDOS does not
 really care where the rest of the directory blocks are located.
 Figure 4.5 diagrams the Volume Directory for the example given in Figure
 4.2.
 The figure shows the 
\begin_inset Quotes eld
\end_inset 

next block
\begin_inset Quotes erd
\end_inset 

 pointer (bytes +2 and +3 in the block) of block 2 in the Volume Directory,
 as an arrow pointing to block 3.
 Each block, in turn, has block numbers in the same relative location (+0,
 +1 and +2, +3) which point backward to the previous block and forward to
 the next block respectively.
 If no previous or next block exists, a block number of zero is used to
 indicate this (block 0, being part of the boot image, would never be a
 valid block number for a directory or file block, so this is a safe convention).
 The first block in the Volume Directory (the key block) contains a special
 entry called the 
\series bold 
header
\series default 
 which describes the directory itself and the characteristics of the volume,
 etc.
 This is followed by 12 file descriptive entries.
 All Volume Directory blocks other than the key block contain descriptions
 of up to 13 files each.
 (In practice, these entries can also be used to describe subdirectories,
 but this will be covered in detail later in the chapter.) Thus, with four
 Volume Directory blocks, a total of 4 times 13 less 1 (for the Volume Directory
 Header entry) or 51 files may be described.
\layout Subsection

The Volume Directory Header
\layout Standard

The Volume Directory Header is the first entry in the first block of the
 Volume Directory.
 As such, its first byte follows the four bytes of next/previous block pointers,
 so its first byte is at +$04.
 A description of its format follows
\begin_inset Foot
collapsed true

\layout Standard

Unless otherwise indicated, all multiple byte numeric values, such as block
 numbers, EOF marks, etc., are stored least significant byte first, most
 significant byte last (LO/HI).
\end_inset 

:
\layout Comment

Insert table here
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\begin_inset  Tabular
<lyxtabular version="3" rows="16" columns="2">
<features islongtable="true">
<column alignment="left" valignment="top" width="20text%">
<column alignment="block" valignment="top" width="60text%">
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Block Byte
\end_inset 
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Description
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$04
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

STORAGE_TYPE/NAME_LENGTH: The first nibble (top four bits) of this byte
 describes the type of entry.
 In this case, this is a Volume Directory Header so this nibble is $F.
 The low four bits are the length of the name in the next field (the volume
 name).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$05--$13
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$14--$1B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Reserved for future use.
 Usually zeroes.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1C--$1F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$20
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$21
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$22
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$23
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$24
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$25--$26
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$27--$28
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$29--$2A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Subsection

File Descriptive Entries
\layout Standard

Each file (or subdirectory) on a volume has a File Descriptive Entry in
 the Volume Directory or another directory.
 These entries all have the same format:
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="20" columns="2">
<features islongtable="true">
<column alignment="left" valignment="top" width="20text%">
<column alignment="block" valignment="top" width="60text%">
<row>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Byte Offset
\end_inset 
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Description
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

STORAGE_TYPE/NAME_LENGTH: The first nibble (top four bits) of this byte
 describes the type of entry.
 Currently assigned values are:
\newline 

\layout Standard

$0 -- Deleted entry.
 Available for reuse
\layout Standard

$1 -- File is a seedling (only one data block)
\layout Standard

$2 -- File is a sapling (2 to 256 data blocks)
\layout Standard

$3 -- File is a tree (257 to 32768 data blocks)
\layout Standard

$D -- File is subdirectory
\layout Standard

$E -- Reserved for Subdirectory Header entry
\layout Standard

$F -- Reserved for Volume Directory Header entry
\newline 

\layout Standard

The low four bits are the length of the file or subdirectory name in the
 next field.
 When a file is deleted, a $00 is stored in this byte.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$01--$0F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

FILE_NAME: a 15-byte field containing the name of this file.
 The actual length is defined by NAME_LENGTH above; the remainder of the
 field is ignored.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$10
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

FILE_TYPE: Primary file type.
 The hexadecimal value of this byte gives the file type as show in the following
 table:
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="16" columns="3">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Type
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Name
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Description
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Typeless file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$01
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BAD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

bad block(s) file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$04
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TXT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Text file(ASCII text, msb off)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$06
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BIN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Binary file (8-bit
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
 
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
binary image)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DIR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Directory file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$19
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ADB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AppleWorks data base file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

AWP
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AppleWorks word processing file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ASP
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AppleWorks spreadsheet file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$EF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PAS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS PASCAL file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$F0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CMD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS added command file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$F1--$F8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

User defined file types 1 through 8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BAS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Applesoft BASIC program file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VAR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Applesoft stored variables
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

REL
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Relocatable object module file (EDASM)
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SYS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS system file
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$11--$12
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

KEY_POINTER: The block number of the key block of the file.
 In the case of a seedling file, this is the block number of the index block.
 For tree files, this is the block number of the master index block.
 (More on these file structures later.) If the file is a subdirectory, this
 is the block number of its first block.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$13--$14
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

BLOCKS_USED: The total number of blocks used by this file including index
 blocks and data blocks.
 If the file is a subdirectory, this is the number of directory blocks.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$15--$17
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

EOF: The location of the end of the file (EOF) as a 3-byte offset from the
 first byte.
 This can also be thought of as the length in bytes of a sequential file.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$18--$1B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

CREATION: The date and time of the creation of this file.
 This field is zero if no date was assigned.
 The format of the field is as follows:
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="4">
<features>
<column alignment="left" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BYTE 0 and 1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

--
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

yyyyyyymmmmddddd
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

year/month/day
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BYTE 2 and 3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

--
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

000hhhhh00mmmmmm
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

hours/minutes
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

where each letter above represents one binary bit.
 This is the standard form for all create and modify date/time stamps in
 directories.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

VERSION: The ProDOS version number under which this file was created.
 This field tells later versions of ProDOS not to expect to find any fields
 which were defined by Apple after this version of ProDOS was released.
 This field indicates the level of upward compatibility between versions.
 Under ProDOS 1.0, its value is zero.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

MIN_VERSION: Minimum version of ProDOS which can access this file.
 A value in this field implies that significant changes were made to the
 file structure definition since prior versions of ProDOS were in use, and
 these older versions would not be able to successfully interpret the file
 structure of this file.
 This field indicates the level of downward compatibility between versions.
 Under ProDOS 1.0, its value is zero.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ACCESS: The bits in this flag byte define how the file may be accessed.
 The bit assignments are as follows:
\newline 

\layout Standard

$80 -- File may be destroyed
\layout Standard

$40 -- File may be renamed
\layout Standard

$20 -- File has changed since last backup
\layout Standard

$02 -- File may be written to
\layout Standard

$01 -- File may be read
\newline 

\layout Standard

All other bits are reserved for future use.
 An unlocked file's ACCESS is usually $C3.
 If a file is locked, ACCESS will be set to $01
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1F--$20
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AUX_TYPE: Auxiliary type field whose contents depend upon FILE_TYPE.
 Common uses are as follows:
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="6" columns="2">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Type
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Use
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TXT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Random access record length (L from OPEN)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BIN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Load address for binary image (A from BSAVE)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BAS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Load address for program image (when SAVEd)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VAR
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Address of compressed variables images (when STOREd)
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SYS
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Load address for system program (usually $2000)
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$21--$24
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

LAST_MOD: Date and time at which file was last modified.
 This field is zero if no date was assigned.
 Format is identical to CREATION above.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$25--$26
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

HEADER_POINTER: Block number of the key block for the directory which describes
 this file.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

Figure 4.6 is an example of a typical Volume Directory block for the example
 introduced with Figure 4.2.
 In this case, there are only three files on the diskette so only the first
 three directory entries are filled in.
 The remaining directory entries have never been used and contain zeroes.
\layout Section

File Structures
\layout Standard

One of ProDOS's major jobs is to keep track of the blocks which make up
 a file.
 When programming, the user need never know that a file is actually made
 up of one or more blocks scattered far and wide all over the diskette volume.
 ProDOS must make the file appear to the programmer to be a continuous stream
 of sequential data.
\layout Standard

So far the files shown in the examples here have only had one block.
 This was done to avoid complicating the discussion of the Volume Directory.
 In practice, however, very few files are 512 bytes or less in length.
 ProDOS defines three file structures to handle files of different sizes:
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="3" columns="3">
<features>
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<column alignment="block" valignment="top" width="7cm">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

The Seedling
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

--
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
for files of 512 bytes or less
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

The Sapling
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

--
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
for files with more than 512 bytes but less than 128K
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

The Tree
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

--
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
for files with more than 128K bytes of data up to 16 megabytes (16,777,216
 bytes)
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

Examples of 
\series bold 
seedling
\series default 
 files have already been shown.
 A seeding file consists of a single 
\series bold 
data block
\series default 
 whose number is stored in the KEY_POINTER field in the file entry of the
 directory.
 Thus, a seedling file, by definition, costs only one block of storage (and
 a file descriptive entry).
\layout Standard

For the purposes of this discussion, let us assume that we had run the following
 Applesoft BASIC program against our example disk volume from Figure 4-2.
\layout LyX-Code

10 PRINT CHR$(4);"OPEN TXTFILE,L64" 
\layout LyX-Code

20 FOR I=0 TO 2 
\layout LyX-Code

30 PRINT CHR$(4);"WRITE TXTFILE,R";I 
\layout LyX-Code

40 PRINT "RECORD";I 
\layout LyX-Code

50 NEXT I 
\layout LyX-Code

60 PRINT CHR$(4);"CLOSE TXTFILE" 
\layout LyX-Code

70 END
\layout Standard

This program creates the TXT file, 
\begin_inset Quotes eld
\end_inset 

TXTFILE
\begin_inset Quotes erd
\end_inset 

, with a record length of 64 bytes.
 It then writes three records containing the strings 
\begin_inset Quotes eld
\end_inset 

RECORD0
\begin_inset Quotes erd
\end_inset 

, 
\begin_inset Quotes eld
\end_inset 

RECORD1
\begin_inset Quotes erd
\end_inset 

, and 
\begin_inset Quotes eld
\end_inset 

RECORD2
\begin_inset Quotes erd
\end_inset 

.
 The total size of this file is then 3 times 64 or 192 bytes.
 Since this is less than 512 bytes, the file is stored as a seedling.
\layout Standard

Now, assume that statement 20 is changed to read:
\layout LyX-Code

20 FOR I=0 TO 100 
\layout Standard

and the program is rerun.
 The file it creates will now contain 101 records of 64 bytes each, so the
 total size is 6464 bytes.
 As the ninth record is written (RECORD8), ProDOS discovers that the original
 seedling block is full.
 There is no room in the directory to store another block number, so ProDOS
 creates what is called an
\series bold 
 index block
\series default 
.
 This block contains the block numbers of each data block in the file in
 the order that they should be accessed.
 Using an index block, ProDOS can describe the file in a sequential and
 orderly way, even though its data blocks may not be physically contiguous
 (next to one another on the diskette).
 For example, if the previous data block in a file was 47, it is not necessary
 to store the data which follows it in block 48.
 Instead, any free block located anywhere on the diskette may be used simply
 by placing its block number next to 47's in the index block.
\layout Standard

Thus, in our example, a new block is allocated to be the index block ($A),
 another new block is allocated to be the second data block ($B), both the
 original data block's number and the new data block's number are placed
 in the new index block, and, finally, the directory entry for the file
 is updated so that it now points to the index block instead of the seedling
 data block.
 Of course, the STORAGE_TYPE field in the directory entry must also be changed
 to indicate that this is now a 
\series bold 
sapling
\series default 
 file and is no longer a seedling.
 Index block entries which are not associated with any data block yet (such
 as those beyond the end of file position) are set to zeroes.
 Since a block is 512 bytes long and the block numbers require a 2-byte
 field, this index block can store pointers to up to 256 data blocks representin
g up to 131072 bytes of data (128K).
 Obviously, most files will fall within this class of file structure.
 A diagram of the general form of a sapling file is given in Figure 4.7.
\layout Standard

The index block for TXTFILE is given in Figure 4.8.
 Notice that the first block of the file is still block 8, the original
 data block of the old seedling version of TXTFILE.
 Notice also that in an index block, the least significant byte of the block
 numbers are stored in the first half of the block, and the most significant
 (in this example all MSB's are $00) in the last half.
 This was done to simplify indexing into the block (the 6502 index registers
 can only index up to 256 bytes at a time).
 Thus, to find any given block, one must assemble a block number by picking
 the Nth byte and the N + 256th byte in the index block where N is the relative
 block desired.
\layout Standard

Suppose that we now modify our program again so that 2144 records will be
 written.
 This pushes the total file size up to 137,216, more than can be described
 by a single index block.
 ProDOS must 
\begin_inset Quotes eld
\end_inset 

promote
\begin_inset Quotes erd
\end_inset 

 the file to the next level of the hierarchy, a 
\series bold 
tree
\series default 
 file.
 A 
\series bold 
tree
\series default 
 file consists of a single 
\series bold 
master index block
\series default 
, pointed to by the directory entry, which, in turn, contains the block
 numbers of two or more other index blocks.
 These lower level index blocks contain the actual data block numbers.
 This structure is diagrammed in figure 4.9.
 Thus, since the master index block can describe 256 
\begin_inset Quotes eld
\end_inset 

subindex
\begin_inset Quotes erd
\end_inset 

 blocks, and each subindex block can describe 256 data blocks, in principle
 this structure would support files of up to 32 megabytes! In order to limit
 block numbers to a 2-byte signed value of 32767, however, an arbitrary
 upper limit of 16 megabytes was imposed.
 In other words, a master index block can never be more than half full.
\layout Standard

The entire structure for TXTFILE is depicted in Figure 4.10.
 Note that the original index block of the sapling file (block $A) became
 the first subindex block of the tree file.
 Also, when the changeover was made, the master index block was allocated
 first ($10A), then the second subindex block ($10B), and finally the data
 block whose allocation made the file into a tree ($10C).
 The last block allocated is for RECORD2136 through RECORD2143 (for a total
 of 2144 records).
 This is the last block on the diskette ($117), and, since no blocks were
 ever freed, the diskette is now full.
 Although TXTFILE has only two subindex blocks and it is nearly as large
 as diskette, this does not imply that all tree files will have two subindex
 blocks, as will become apparent when sparse files are discussed.
\layout Section

File Data Types
\layout Standard

Unless they are directories (or DIR type files), all files conform to one
 of three file structures described above even though the data in files
 may have different intended uses.
 A file might contain an Applesoft BASIC program which was SAVEd in addition
 to being a sapling file.
 It might be a binary memory image which was BSAVEd and conforms to the
 seedling structure.
 Or it might be data for a BASIC program in a TXT file and have the tree
 characteristic.
 File types, such as BAS, TXT, or SYS are less important to ProDOS than
 they are to the programs which use the files.
 This means that the basic structure of a BAS file is identical to that
 of a BIN file --- only the interpretation of the data differs.
 ProDOS maintains a consistent set of file types by convention, and to a
 limited extent, the BASIC command interpreter enforces these conventions
 (e.g., 
\begin_inset Quotes eld
\end_inset 

FILE TYPE MISMATCH
\begin_inset Quotes erd
\end_inset 

).
 You are not prevented, however, from storing an Applesoft BASIC program
 image in a TXT file if you really work at it!
\layout Subsection

TXT Files
\layout Standard

The TXT or text file in its 
\series bold 
sequential
\series default 
 form is the least complicated file data type (in its random form, it is,
 perhaps, the most complex).
 A sequential TXT file consists of one or more records, separated from each
 other by carriage return characters (hex $0D's).
 This structure is shown and an example file is given in Figure 4.11.
 Usually, the end of a TXT file is signaled by the End Of File (EOF) position
 stored in the directory entry for the file.
 Since $0D is used to delimit records, carriage returns should not appear
 within a record.
 Usually, only valid ASCII characters are allowed in a TXT file to make
 them accessible to BASIC programs (i.e.
 printable text, numerics or special characters; refer to p.8 of the 
\emph on 
Apple II Reference Manual
\emph default 
 or p.
 16 of the 
\emph on 
Apple II Reference Manual for IIe Only
\emph default 
).
 This restriction makes processing of a TXT file slower and less efficient
 in the use of disk space than with a BIN or VAR type file, since each digit
 must occupy a full byte in the file.
\layout Standard

When TXT files are accessed 
\series bold 
randomly
\series default 
, or by record number, 
\begin_inset Quotes eld
\end_inset 

holes
\begin_inset Quotes erd
\end_inset 

 can appear between records.
 In the example given earlier and in Figure 4.12, each record is allocated
 64 bytes of space in the file.
 By doing this, it is easy to find any record by multiplying its number
 by 64 and using this as a byte offset into the file.
 The record length is chosen as the maximum amount of space any record might
 occupy.
 Thus, records with less than 64 bytes of data, such as the ones in the
 example, will have wasted space at their end (filled in this case with
 $00s).
 This wasted space is called padding.
 The actual data in each record is terminated with a $0D (carriage return)
 just as in the sequential text file record (allowing BASIC to read it as
 a single INPUT line).
 In this way, data within a single record can be accessed as if it was a
 miniature sequential TXT file.
 In an attempt is made to sequentially read beyond into the padding, a null
 string is returned.
\layout Comment

this should be SAVEd, right? 
\layout Standard

When the randomly organized file is SAVEd, the record length given with
 the 
\begin_inset Quotes eld
\end_inset 

L
\begin_inset Quotes erd
\end_inset 

 keyword is stored in the AUX_TYPE field in the directory entry for the
 file.
 Then, if later OPENs omit this keyword, the original value can be supplied
 by ProDOS.
\layout Standard

Notice that in the example in Figure 4.12, record 3 has not been initialized.
 Indeed, none of the other records following RECORD2 have anything but $00s
 in them.
 By WRITEing to specific records in a non-sequential order, it is possible
 to leave very large holes between records which contain data.
 Such files are called 
\begin_inset Quotes eld
\end_inset 

sparse.
\begin_inset Quotes erd
\end_inset 

 If a hole falls within a block which has other records which contain data,
 it is represented by binary zeroes.
 But if the hole covers entire blocks, ProDOS does not bother to allocate
 them at all.
 There is no point in wasting disk space on holes! Thus, if the next record
 containing data in our example was RECORD25, for instance, the rest of
 block 0 would contain zeroes (as it does now), no block would be allocated
 for block 1 or block 2, and block 3 would contain zeroes until the position
 of RECORD25 was reached.
 This is diagrammed in Figure 4.13.
 Notice that the positions of the 
\begin_inset Quotes eld
\end_inset 

phantom
\begin_inset Quotes erd
\end_inset 

 blocks are marked in the file's index block with zeros.
 Thus, although the files covers a 
\begin_inset Quotes eld
\end_inset 

data space
\begin_inset Quotes erd
\end_inset 

 of six blocks, only three data blocks are actually allocated.
 It is possible to create a file with only two data blocks which covers
 the entire 16-megabyte data space.
 Such a file would incorporate one master index block with an entry at +0
 and at +7F.
 All the subindex blocks in between would be 
\begin_inset Quotes eld
\end_inset 

phantom,
\begin_inset Quotes erd
\end_inset 

 or not allocated and marked with zero pointers.
 The first index block would contain a single entry at +0 for the first
 data block.
 And the last index would contain a single entry at +FF for the last data
 block.
 A 16-megabyte file using only five blocks of disk space!
\layout Subsection

Bin Files
\layout Standard

The structure of a BIN type file is shown in figure 4.14.
 An exact copy of the memory selected is written to the disk blocks(s).
 The original address from which the memory was copied is stored in the
 AUX_TYPE field of the directory entry for the file.
 The EOF position in the directory records the length of the binary image.
 These values are those given in the A and L (or E) keywords of the BSAVE
 command which created the file.
 ProDOS can be made to BLOAD or BRUN the image at a different address by
 specifying the A (address) keyword when the command is entered, or by changing
 the address in the directory entry (this is sometimes necessary if the
 file cannot be BSAVEd from the location where it will run, such as from
 the screen buffer).
\layout Subsection

BAS Files
\layout Standard

A BASIC program is saved to the diskette in a way that is nearly identical
 to BSAVE.
 The format of a BAS file is given in Figure 4.15.
 When the SAVE command is typed, the ProDOS BASIC command interpreter determines
 the location of the BASIC program in memory and its length by examining
 Applesoft's zero page address.
 An image of the program is written to the file, and, again, the AUX_TYPE
 and EOF fields of the directory entry represent the address and length.
 Notice that the character representation of the program is somewhat garbled.
 This is because, in the interest of saving memory, BASIC 
\begin_inset Quotes eld
\end_inset 

tokenizes
\begin_inset Quotes erd
\end_inset 

 the program.
 Reserved BASIC words, such as PRINT, IF, END, or CHR$, are replaced with
 a single hexadecimal code value (set off from other characters by its most
 significant bit being forced on).
 A complete treatment of the appearance of a BASIC program in memory is
 outside the scope of this manual, but a partial breakdown of the program
 in Figure 4.15 is given.
\layout Subsection

Other File Types (VAR, REL, SYS)
\layout Standard

Several other file types have been set aside by ProDOS.
 Many are those found in the SOS operating system (e.g.
 PCD, PTX, PDA for Pascal, etc.).
 These are listed in APPENDIX E and will not be covered here since they
 are not indigenous to ProDOS.
 Other ProDOS file types include BAD and CMD.
 BAD files are obviously intended to mark permanent I/O errors on a disk's
 surface from accidental use, but there seem to be no utilities within ProDOS
 1.0 which create them.
 The CMD and PAS file types are not currently supported by the ProDOS BASIC
 command interpreter, so their planned structures are anyone's guess.
 AppleWorks file types are designed for the AppleWorks package, and their
 structures are specific to that package.
 The formats of the VAR, REL, and SYS files are defined, however.
\layout Standard

The VAR filetype is used to store the contents of a BASIC program's variables
 using the STORE command.
 The ProDOS BASIC command interpreter compresses all of the strings together
 with the numeric variables and saves the resulting chunk of memory as a
 VAR file.
 The first five bytes of the file constitute a header which defines the
 memory image that follows:
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard

\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="1">
<features islongtable="true">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Var File Header
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="5" columns="3">
<features>
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="block" valignment="top" leftline="true" rightline="true" width="7cm">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\layout Standard

Byte Offset
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Length
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
Description
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

+0
\end_inset 
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

(2 bytes)
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
Combined length of simple and array variables
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

+2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

(2 bytes)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
Length of simple variables only
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

+4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

(1 byte)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
MSB of HIMEM when these variables were STOREd
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

+5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

(n bytes)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard
\noindent 
Start of memory image\SpecialChar \ldots{}

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

The AUX_TYPE field of the directory entry for the file contains the starting
 address from which the compressed variables were copied.
 EOF is an indication of the end of the image.
 When a RESTORE is later issued, the memory image is reloaded, the strings
 are separated from the rest of the variables, and, if necessary, string
 pointers are adjusted based on the new HIMEM value.
\layout Standard

The REL file type is used with a special form of binary file, containing
 the memory image of a machine language program which may be relocated anywhere
 in memory based upon additional information stored with the image itself.
 Such a file is called a Relocatable Object Module File and is produced
 as output from the Apple Toolkit Assembler (EDASM).
 The format for this type of file is given in the documentation accompanying
 the assembler.
\layout Standard

A SYS, or system file, is just like a BIN file except that it nearly always
 loads at $2000 and implies a reload of the command interpreter after it
 exits.
 SYS files are invoked with the 
\begin_inset Quotes eld
\end_inset 

-
\begin_inset Quotes erd
\end_inset 

, or smart RUN command, from the BASIC command interpreter.
 The interpreter closes all open files, frees all of the memory occupied
 by itself, and does a standard BRUN at $2000.
\layout Section

DIR Files --- ProDOS Subdirectories
\layout Standard

Since the Volume Directory has room for just 51 entries, without subdirectories,
 you would be limited to 51 files per volume.
 This may not seem to be much of a hardship on a diskette (although it might,
 since DOS 3.3 allows 105), but on a hard disk with 5 million bytes or more
 this limit is unthinkable.
 In order to create a more dynamic and flexible structure, the user is permitted
 to create subdirectories.
 A 
\series bold 
subdirectory
\series default 
 can be thought of as an extension to the Volume Directory, but there is
 more to it than that.
 In the simplest case, a subdirectory is created and an entry which describes
 it is placed in the Volume Directory.
 The subdirectory has a structure very similar to the Volume Directory:
 it has a header entry located at its beginning; its blocks are doubly linked
 by pointers in the first four bytes of each block; and it can contain file
 descriptive entries (including entries for 
\begin_inset Quotes eld
\end_inset 

sub-subdirectories
\begin_inset Quotes erd
\end_inset 

).
 Unlike the Volume Directory, however, it can be of any length (it starts
 out with only a single block and more are added as required), its header
 has a slightly different format, it can be located anywhere on the diskette,
 and its blocks are not necessary contiguous.
 A diagram of a typical subdirectory is shown in Figure 4.16.
 Thus, within a single subdirectory, you can create as many file entries
 as you have disk blocks! In practice, however, it is usually more convenient
 to create multiple subdirectories 
\begin_inset Quotes eld
\end_inset 

dangling
\begin_inset Quotes erd
\end_inset 

 from the Volume Directory, each for a specific purpose (e.g.
 one for word processing, one for program development, one for spreadsheets,
 and so on).
 These subdirectories might even be thought of as miniature 
\begin_inset Quotes eld
\end_inset 

diskettes
\begin_inset Quotes erd
\end_inset 

 within the larger volume.
 Although it is possible to set up very complex structures using subdirectories
 (multiple level tree-like networks), usually this is not very efficient
 or convenient and a single level (all subdirectories linked directly to
 the Volume Directory) works best.
\layout Standard

One of the major concepts around which ProDOS was designed is the notion
 of a 
\series bold 
path
\series default 
 to a file.
 Ordinarily, if a file is described by the Volume Directory, this path is
 very simple.
 ProDOS merely looks up the file in the Volume Directory and that is that.
 If the file is described by a subdirectory, however, ProDOS insists upon
 knowing how to find the subdirectory.
 Of course, ProDOS could systematically search all subdirectories for the
 file and all subdirectories of the subdirectories, and so on, but this
 would be very time consuming (especially if you had mistyped the file name
 and it didn't really exist!).
 Since the user usually knows which subdirectory contains the file (and,
 perhaps, which subdirectory describes that subdirectory, etc.) the practice
 is to tell ProDOS what path to follow to find a file.
 This is done by first specifying the volume to be searched, thereby naming
 the Volume Directory, followed by a list of all subdirectories which must
 be traversed to eventually find the file, and finally by the file name
 itself.
 For example, if in Figure 4.16 the volume name is 
\begin_inset Quotes eld
\end_inset 

VOLUME
\begin_inset Quotes erd
\end_inset 

 and the subdirectory is 
\begin_inset Quotes eld
\end_inset 

SUB
\begin_inset Quotes erd
\end_inset 

 and the file described by the subdirectory is 
\begin_inset Quotes eld
\end_inset 

FILE,
\begin_inset Quotes erd
\end_inset 

 the path to find that file would be: 
\layout Standard
\align center 
/VOLUME/SUB/FILE
\layout Standard

If the file described by the Volume Directory in Figure 4.16 was also called
 
\begin_inset Quotes eld
\end_inset 

FILE
\begin_inset Quotes erd
\end_inset 

 there would be no confusion at all, because its pathname would be unique:
 
\layout Standard
\align center 
/VOLUME/FILE
\layout Standard

This points out an additional advantage of subdirectories.
 It was mentioned earlier that they were like miniature 
\begin_inset Quotes eld
\end_inset 

diskettes,
\begin_inset Quotes erd
\end_inset 

 and, just like diskettes, there is no problem in using identical file names
 within different directories.
\layout Standard

To make specifying pathnames easier, the user can specify a default prefix
 to ProDOS.
 When a file name is given (without a leading 
\begin_inset Quotes eld
\end_inset 

/
\begin_inset Quotes erd
\end_inset 

 in its name) it is assumed to be an incomplete pathname.
 To complete it, ProDOS merely attaches the prefix to the beginning.
 Thus, if the current prefix is: /VOLUME/SUB And a reference was made to
 
\begin_inset Quotes eld
\end_inset 

FILE,
\begin_inset Quotes erd
\end_inset 

 ProDOS would create the following fully qualified pathname: 
\layout Standard
\align center 
/VOLUME/SUB/FILE
\layout Standard

Therefore, be specifying a prefix you are, in a sense, stating that you
 wish to work within a specific 
\begin_inset Quotes eld
\end_inset 

miniature diskette,
\begin_inset Quotes erd
\end_inset 

 although you can still access any other file on the volume by giving its
 complete pathname explicitly.
\layout Standard

An examples of a typical subdirectory block is given in Figure 4.17.
 The format of the Subdirectory Header is given below (remember that the
 first four bytes of each subdirectory block contain the previous and next
 block numbers respectively):
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="19" columns="2">
<features islongtable="true">
<column alignment="left" valignment="top" width="0pt">
<column alignment="block" valignment="top" width="9cm">
<row topline="true" bottomline="true">
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Block Byte
\end_inset 
</cell>
<cell multicolumn="1" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Description
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="left" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$04
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

STORAGE_TYPE/NAME_LENGTH: The first nibble (top 4 bits) of this byte describes
 the type of entry.
 In this case, this is a Subdirectory Header so this nibble is $E.
 The low 4 bits are the length of the name in the next field (the subdirectory
 name).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$05--$013
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SUBDIR_NAME: A 15-byte field containing the name of this subdirectory.
 The actual length is defined by NAME_LENGTH above; the remainder of the
 field is ignored.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$14
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$14 must contain $75.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$15--$1B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Reserved for future use.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1C--$1F
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

CREATION: The date and time of the creation of this file.
 This field is zero if no date was assigned.
 The format of the field is as follows:
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="4">
<features>
<column alignment="left" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BYTE 0 and 1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

--
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

yyyyyyymmmmddddd
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

year/month/day
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BYTE 2 and 3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

--
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

000hhhhh00mmmmmm
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

hours/minutes
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

where each letter above represents one binary bit.
 This is the standard form for all create and modify date/time stamps in
 directories.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$20
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

VERSION: the ProDOS version number under which this subdirectory was created.
 This field tells later version ofd ProDOS not to expect to find any fields
 which were defined by Apple after this version of ProDOS was released.
 This fiend indicates the level of upward compatability between versions.
 Under ProDOS 1.0, it's value is zero.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$21
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

MIN_VERSION: Minimum version of ProDOS which can access this subdirectory.
 A cakue in this field implies that significant changes were made to the
 field definitions since prior version of ProDOS were in use and these older
 versions would not be able to successfully interpret the structure of this
 subdirectory.
 This field indicates the level of downward compatability between versions.
 Under ProDOS 1.0, its value is zero.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$22
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ACCESS: The bits in this flag byte define how the directory may be accessed.
 The bit assignments are as follows:
\newline 

\layout Standard

$80 -- Subdirectory may be destroyed (deleted)
\layout Standard

$40 -- Subdirectory may be renamed
\layout Standard

$20 -- Subdirectory has changed since last backup
\layout Standard

$02 -- Subdirectory may be written to
\layout Standard

$01 -- Subdirectory may be read
\newline 

\layout Standard

All other bits are reserved for future use.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$23
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ENTRY_LENGTH: Length of each entry in the Subdirectory in bytes (usually
 $27)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$24
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ENTRIES_PER_BLOCK: Number of entries in each block of the Subdirectory (usually
 $0D).
 Note that the Subdirectory Header is considered to be an entry.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$25--$26
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

FILE_COUNT: Number of active entries in the Subdirectory.
 An actice entry is one which describes a file or subdirectory which has
 not been deleted.
 This count does not include the subdirectory Header.
 Note that this field's name is a bit misleading since the count also includes
 the count also includes other subdirectory entries.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$27--$28
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PARENT_POINTER: The block number of the key (first) bblock of the directory
 which contains the entry which describes this subdirectory.
\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$29
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PARENT_ENTRY: The entry number within the parent directory which describes
 this subdirectory (the parent directory's header counts as zero).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$2A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PARENT_ENTRY_LENGTH: The length of entries in the parent directory in bytes
 (usually $27).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Section

Emergency Repairs
\layout Standard

From time to time the information on a diskette can become damaged or lost.
 This can create various symptoms, ranging from mild side effects, such
 as the diskette not booting, to major problems, such as an input/output
 (I/O) error in the Volume Directory.
 A good understanding of the format of a diskette, as described previously,
 and a few program tools can allow any reasonably sharp Apple II user to
 patch up most errors on his diskettes.
\layout Standard

A first question would be, 
\begin_inset Quotes eld
\end_inset 

how do errors occur?
\begin_inset Quotes erd
\end_inset 

 The most common cause of an error is a worn or physically damaged diskette.
 Usually a diskette will warn you that it is wearing out by producing 
\begin_inset Quotes eld
\end_inset 

soft errors.
\begin_inset Quotes erd
\end_inset 

 Soft errors are I/O errors which occur randomly.
 You may get an I/O error message when you CATALOG a disk one time and have
 it CATALOG correctly if you try again.
 When this happens, a smart programmer immediately copies the files on the
 aged diskette to a brand new one and discards the old one or keeps it as
 a backup.
\layout Standard

Another cause of damaged diskettes is the practice of hitting the RESET
 key to abort the execution of a program which is accessing the diskette.
 Damage will usually occur when the RESET signal comes just as data is being
 written onto the disk.
 Powering the machine off just as data is being written to the disk is also
 a sure way to clobber a diskette.
 Of course, real hardware problems in the disk drive, cable, or controller
 card can cause damage as well.
\layout Standard

If the damaged disk can be CATALOGed, recovery is much easier.
 A damaged ProDOS bootstrap loader on track 0 can usually be corrected by
 formatting a fresh diskette and copying the files from the old one to the
 new one.
 If only one files produces an I/O ERROR when it is used, it may be possible
 to copy most of the sectors of the file to another diskette by skipping
 over the bad sector with an assembler language program which calls the
 MLI (Machine Language Interface) in the ProDOS Kernel, or with a BASIC
 program (if the file is a TXT file).
 Indeed, if the problem is a bad checksum (see Chapter 3), it may be possible
 to read the bad sector and ignore the error and get most of the data.
\layout Standard

An I/O error usually means that one of two conditions has occurred.
 Either a bad checksum was detected on the data in a sector, meaning that
 all bytes in the sector which follow the point of damage may be lost; or
 the sectoring is clobbered such that the sector no longer even exist on
 the diskette.
 If the latter is the case, the diskette (or at the very least, the track)
 must be reformatted, resulting in a massive loss of data.
 Although a program can be written to format a single track (see APPENDIX
 A), it is usually easier to copy all readable sectors from the damaged
 diskette to another formatted diskette and then reconstruct the lost data
 there.
\layout Standard

Disk utilities, such as Quality Software's 
\emph on 
Bag of Tricks
\emph default 
, allow the user to read and display the contents of sectors or blocks.
 
\emph on 
Bag of Tricks
\emph default 
 will also allow you to modify the sector data and rewrite it to the same
 or another diskette.
 If you do not have 
\emph on 
Bag of Tricks
\emph default 
 or another commercial disk utility, you can use the ZAP program in APPENDIX
 A of this book.
 The ZAP program will read any block of an unprotected disk into memory,
 allowing the user to examine it or modify the data and then, optionally,
 rewrite it to a disk.
 Using such a program is very important when learning about diskette formats
 and when fixing clobbered data.
\layout Standard

Using ZAP, a bad sector within a file can be localized by reading each block
 listed in the index blocks for that file.
 If the bad block is in a directory, the pointers of up to 13 files may
 be lost.
 When this occurs, a search of the diskette can be made to find ``homeless''
 index blocks (ones which are not otherwise connected to the remaining good
 directory blocks in that and other directories).
 As these index blocks are found, new file descriptive entries can be made
 in the damaged sector which point to these blocks.
 Of course, it helps to know whether the lost files are seedlings, saplings,
 or trees! When the entire Volume Directory is lost, this process can take
 hours, even with a good understanding of the format of ProDOS volumes.
 Such an endeavor should only be undertaken if there is no other way to
 recover the data.
 Of course, the best policy is to create backup copies of important files
 periodically to simplify recovery.
 More information on the above procedures is given in APPENDIX A.
\layout Standard

A less significant but very annoying form of diskette clobber is the loss
 of free blocks.
 It is possible, by powering off or hitting RESET at the wrong time, to
 leave blocks marked in use in the Volume Bit Map which were about to be
 marked free.
 These lost blocks can never be recovered by normal means, even when files
 are deleted, since they do not belong to anyone.
 The result is a DISK FULL message before the volume is actually full.
 to reclaim the lost block, it is necessary to compare every block listed
 in every index block or directory against the Volume Bit Map to see if
 there are any discrepancies.
 There are utility programs which will do this automatically, but the best
 way to solve this problem is to copy all the files on the diskette to another
 diskette (note that the diskette must be copied on a file by file basis,
 not as a volume, since a volume copy would copy an image of the diskette,
 bad Volume Bit Map and all).
\layout Standard

If a file is deleted, it can usually be recovered, providing that additional
 block allocations have not occurred since it was deleted.
 If another file was created after the DELETE command, ProDOS probably has
 reused some or all of the blocks of the old file.
 The appropriate directory can be quickly ZAPped to reactivate the file
 (you will have to guess at the STORAGE_TYPE and NAME_LENGTH values) at
 +0 in the deleted entry.
 The file should then be copied to another diskette and then the original
 deleted so that the Volume Bit Map will be correct.
\layout Section

Fragmentation
\layout Standard

ProDOS overhead in reading or writing blocks to a volume consists of three
 main parts:
\layout Enumerate

ProDOS computational overhead time (The time to get ready to access the
 disk).
 
\layout Enumerate

Seek time (moving the disk arm to the proper track).
 
\layout Enumerate

Rotational delay (waiting for the proper sector to appear under the disk
 head).
\layout Standard

In the first respect, ProDOS is an enormous improvement over Apple's earlier
 operating system, DOS, being up to eight times faster in its operation.
 This fact only increases the significance of the other two delay areas.
 Skewing can have an effect on rotational delay to some extent (see Chapter
 3), but is much more difficult to control.
 Seek time, however, can vary greatly depending upon use patterns and the
 arrangement of files on a volume.
\layout Standard

Imagine, for example, a volume on which a great deal of activity has occurred.
 Many files have been created and deleted over a period of time, leaving
 
\begin_inset Quotes eld
\end_inset 

holes
\begin_inset Quotes erd
\end_inset 

 here and there as files are deleted, which are reallocated to existing
 or new files as necessary.
 Eventually, a map of the volume looks like a plate of spaghetti! There
 is nothing really wrong with this --- files can be accessed normally ---
 but if parts of an otherwise short file are spread all over the disk volume,
 ProDOS must spend a lot of time moving the disk read/write head from track
 to track to pick up all the pieces in the proper order.
 This costs time.
 A disk volume in this state of affairs is said to be badly 
\begin_inset Quotes eld
\end_inset 

fragmented.
\begin_inset Quotes erd
\end_inset 

 Fragmentation can be even more important on a hard disk since the ratio
 of seek delay to rotational delay is much greater.
 Likewise, the best skewing setup in the world can be completely gutted
 by a fragmented disk, since few sequential files sectors are found together
 on the same track, and as the arm is moved to the new track, there is no
 telling how long the rotational delay will be.
\layout Standard

When disk access time becomes a concern, it is sometimes useful to intelligently
 move move files to specific spots on the disk.
 To accomplish this, the user must format a new, blank volume and copy the
 files from the old disk, one by one, to the new disk in an appropriate
 order.
 Remember that ProDOS allocates blocks for files in numerically increasing
 order (from the outside track of the disk to the inside track).
 Thus, the first file you copy will be placed near the Volume Directory
 (a good place if you want to find that file fast).
 The last file you copy will go closest to the center hub of the diskette.
 If your program accesses two files at once, try to place them near one
 another on the disk.
 Do not separate them by many other files or you will hear the disk arm
 
\begin_inset Quotes eld
\end_inset 

thrashing
\begin_inset Quotes erd
\end_inset 

 back and forth as it first accesses a block in file A and then must access
 one in file B.
 While you hear that noise, your program is not doing anything useful! Another
 thing to remember if your program opens and closes files frequently is
 that, when it does so, it may access several directories.
 It is usually a good idea in any case to keep all of your directories squashed
 down against the Volume Directory (i.e.
 CREATE all directories before you copy any files onto the new diskette)
 so that pathname searches will go faster.
\layout Chapter

The Structure Of ProDOS
\layout Section

ProDOS Memory Use
\layout Standard

ProDOS is an assembly language program which is loaded into RAM memory when
 the user boots his disk.
 Although the ProDOS machine language support routines can run by themselves
 in a machine smaller than 64K (or 48K plus a language card), ProDOS is
 primarily intended to run only on a full sized 64K or larger Apple II Plus
 or an Apple IIe or IIc.
 In a 64K Apple II, ProDOS normally occupies the 16K of bank switched memory
 (or the Language Card for older Apples) and about 10.5K at the top of main
 memory ($9600 through $BFFF).
 The part of ProDOS which occupies the bank switched memory is called the
 
\series bold 
Kernel
\series default 
.
 The part occupying the top of main memory is called the 
\series bold 
BASIC Interpreter
\series default 
 (BI).
 The Kernel consists of support subroutines which may be called by any assembly
 language program (such as the BASIC Interpreter) to access the disk, either
 block by block or file by file.
 The BASIC Interpreter accepts ProDOS commands entered by the user or his
 programs, and translates them into calls to the Kernel subroutines
\begin_inset Foot
collapsed true

\layout Standard

It is possible, if the BASIC Interpreter's functions are not required by
 an application (such as a stand alone arcade-type game), to separate the
 Kernel from the BASIC Interpreter and not even load the BASIC Interpreter.
 For the purposes of this discussion, however, we will assume that ProDOS
 consists of both the Kernel and the BASIC Interpreter.
 In addition, the ProDOS Kernel may be loaded into the main part of memory
 if the Apple does not have a language card (48K Apple II), but the BASIC
 Interpreter may not be used under these circumstances because it cannot
 be relocated.
\end_inset 

.
 When the BASIC Interpreter is loaded, ProDOS must fool Applesoft BASIC
 into believing that there is actually less RAM in the machine than there
 is.
 With ProDOS loaded, Applesoft believes that there is only about 38K of
 RAM.
 ProDOS does this by adjusting HIMEM after it has loaded the BASIC Interpreter
 to prevent Applesoft from using the memory ProDOS is occupying.
 In order to keep track of the memory it is using, ProDOS maintains a 
\begin_inset Quotes eld
\end_inset 

bit map
\begin_inset Quotes erd
\end_inset 

 table which describes every page (256 bytes) in memory and marks it either
 free or in use.
 By examining this table, user written programs can avoid using previously
 assigned memory, even if later versions of ProDOS are loaded elsewhere.
 
\layout Standard

A diagram of ProDOS's memory is given in figure 5.1.
 As can be seen, there are numerous subdivisions of the two basic components
 mentioned above.
 In addition, there are two special 
\series bold 
global pages
\series default 
 containing the addresses and data pertaining to the ProDOS Kernel (SYSTEM
 GLOBAL PAGE ar $BF00) and the BASIC Interpreter (BI GLOBAL PAGE at $BE00)
 which may be of interest to external user written programs.
 These global pages will be discussed in more detail later in this chapter.
\layout Comment

Insert figure here
\layout Standard

As discussed earlier, ProDOS can be divided into two major components: the
 Kernel, containing the 
\series bold 
Machine Language Interface (MLI)
\series default 
; and the BASIC Interpreter (BI).
 In theory, other interpreters could be written and substituted for the
 BI (to support Pascal or C language development, for example) but at present
 the only interpreter provided by Apple is the BASIC Interpreter, supporting
 Applesoft BASIC.
 
\layout Chapter

Using\SpecialChar ~
ProDOS\SpecialChar ~
From Assembly\SpecialChar ~
Language
\layout Section

Caveat
\layout Standard

This chapter is aimed at the advanced assembly language programmer who wishes
 to access the disk at any level.
 Access to the disk by BASIC programs is well documented in the ProDOS manual,
 
\emph on 
BASIC Programming With ProDOS
\emph default 
.
 The material presented in this chapter may be beyond the comprehension
 (at least for the present) of a programmer who has never used assembly
 language.
\layout Standard

Access to a diskette from assembly language may be accomplished at four
 different levels:
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="4" columns="2">
<features>
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Level 0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Direct access of the diskette controller
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Level 1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Block access
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Level 2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Machine Language Interface (MLI) access
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Level 3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

BI command access
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

At the lowest level is direct access of the diskette controller.
 Here, data is accessed byte by byte.
 This may be required to implement diskette protection schemes or to perform
 low level diagnostic or correction of I/O errors.
 The next level of access is by ProDOS blocks (two sectors per block).
 This is done using the appropriate ProDOS device driver; in this case,
 the diskette device driver.
 At a higher level still is the ProDOS Machine Language Interface (MLI).
 Here, data may be accessed on a file basis.
 Finally, the highest level if access is through the ProDOS BASIC Interpreter.
 Here, entire ProDOS command lines may be executed to produce formatted
 directory listings and the like.
 A detailed description od the programming considerations at each of these
 levels follows.
 
\layout Section

Direct Use Of The Diskette Drive
\layout Standard

It is often desirable or necessary to access the Apple's disk drives directly
 from assembly language, ithout the use of ProDOS.
 Applications which might use direct disk access range from a user written
 operating system to ProDOS-independent utility programs.
 Direct access is accomplished using 16 addresses that provide eight on/off
 switches which directly control the hardware.
 For information on the disk hardware, please refer to Appendix D.
 The device Address assignments are given in Table 6.1.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="1">
<features>
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Table 6.1 ProDOS Hardware Addresses
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="11" columns="5">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset Quotes eld
\end_inset 

Off
\begin_inset Quotes erd
\end_inset 

 Switches
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset Quotes eld
\end_inset 

On
\begin_inset Quotes erd
\end_inset 

 Switches
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Base
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Base
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Switch
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Function
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Function
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C080
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 0 off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C081
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 0 on
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C082
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 1 off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C083
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 1 on
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C084
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 2 off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C085
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 2 on
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C086
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 3 off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C087
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Phase 3 on
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C088
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Drive off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C089
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Drive on
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Select drive 1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Select drive 2
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Shift Data Register
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Load Data Register
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Read
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Write
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

The last to switches are difficult to explain in single phrase definitions
 because they interact with each other forming a 4-way switch.
 The four possible settings are given in Table 6.2.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="1">
<features>
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Table 6.2 Four Way Q6/Q7 Switches
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="5" columns="3">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<column alignment="block" valignment="top" leftline="true" rightline="true" width="5cm">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Function
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Off
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Enable Read Sequencing.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

On
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Shift data register every four cycles while writing.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

On
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Check write protect and initialize sequencer for writing.
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

On
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

On
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Load data register every four cycles while writing.
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

The addresses are slot dependent and the offsets are computed by multiplying
 the slot number by 16.
 In hexadecimal this works out nicely.
 Simply add the value $s0 (where s is the slot number) to the base address.
 To engage disk drive number 1 in slot number 6, for example, we would add
 $60 to $C08A (device address for engaging drive 1) for a result ot $C0EA.
 However, since it is generally desirable to write code that is not slot
 dependent, one would normally use $C08A,X (where the X-register contains
 the value $s0).
 Table 6.3 shows the range of addresses for each slot number.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="1">
<features>
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Table 6.3 Address Ranges For Slots
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="9" columns="2">
<features>
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell multicolumn="1" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Slot 
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address 
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell multicolumn="1" alignment="right" valignment="top" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Number
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Range
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C080--$C08F
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C090--$C09F
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C0A0--$C0AF
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C0B0--$C0BF
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C0C0--$C0CF
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C0D0--$C0DF
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C0E0--$C0EF
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\layout Standard

In general, the above addresses need only be accessed with any valid 6502
 instruction.
 However, in the case of reading and writing bytes (last four addresses),
 care must be taken to insure that the data will be in an appropriate register.
 All of the following would engage drive number 1.
 (Assume slot number 6.)
\layout LyX-Code


\size small 
        BIT $C0EA
\layout LyX-Code


\size small 
        LDA $C08A,X   (where X-register contains $60)
\layout LyX-Code


\size small 
        CMP $C08A,X   (where X-register contains $60)
\layout Standard

Below are typical examples demonstrating the use of the device address assignmen
ts.
 For more examples, see Appendix A.
 All examples assume that the label SLOT is set to 16 times the desired
 slot number (e.g.
 $60 for slot 6).
\layout Section

Stepper Phase Off Or On
\layout Standard

Basically, each of the four phases (0--3) must be turned on and then off
 again.
 Done in ascending order moves the arm inward.
 In descending order, the arm moves outward.
 For optimum performance, the timing between accesses to these locations
 is critical, making this a nontrivial exercise.
 An example is provided in Appendix A demonstrating how to move the arm
 to a given location.
\layout Section

Motor Off Or On
\layout LyX-Code


\size small 
        LDX #SLOT     Put slot number times 16 in X-register.
\layout LyX-Code


\size small 
        LDA $C088,X   Turn motor off.
\layout LyX-Code


\size small 
 
\layout LyX-Code


\size small 
        LDX #SLOT     Put slot number times 16 in X-register.
\layout LyX-Code


\size small 
        LDA $C089,X   Turn motor on (selected drive).
\layout List
\labelwidthstring 00.00.0000

Note: A sufficient delay should be provided to allow the motor time to come
 up to speed before reading or writing to the disk.
 Either a specific delay or a routine that watches the data register can
 be used.
 See Appendix A for an example.
\layout Section

Engage Drive 1 Or 2
\layout LyX-Code


\size small 
        LDX #SLOT     Put slot number times 16 in X-register.
\layout LyX-Code


\size small 
        LDA $C08A,X   Engage drive 1.
\layout LyX-Code


\size small 
 
\layout LyX-Code


\size small 
        LDX #SLOT     Put slot number times 16 in X-register.
\layout LyX-Code


\size small 
        LDA $C08B,X   Engage drive 2.
\layout Section

Read A Byte
\layout LyX-Code


\size small 
        LDX #SLOT     Put slot number times 16 in X-register.
\layout LyX-Code


\size small 
        LDA $C08E,X   Insure read mode.
\layout LyX-Code


\size small 
 
\layout LyX-Code


\size small 
READ    LDA $C08C,X   Put contents of data register in Accumulator.
\layout LyX-Code


\size small 
        BPL READ      Loop until the high bit is set.
\layout List
\labelwidthstring 00.00.0000

Note: $C08E,X must be accessed to insure Read mode.
 The loop is necessary to assure that the accumulator will contain valid
 data.
 If the data register does not yet contain valid data, the high bit will
 be zero.
\layout Section

Sense Write Protect
\layout LyX-Code


\size small 
        LDX #SLOT     Put slot number times 16 in X-register.
\layout LyX-Code


\size small 
        LDA $C08D,X   
\layout LyX-Code


\size small 
        LDA $C08E,X   Sense write protect.
\layout LyX-Code


\size small 
        BMI ERROR     If high bit set, protected.
\layout Section

Write Load And Write A Byte
\layout LyX-Code


\size small 
        LDX #SLOT     Put slot number times 16 in X-register.
\layout LyX-Code


\size small 
        LDA DATA      Load accumulator with byte to write.
\layout LyX-Code


\size small 
        STA $C08D,X   Write load.
\layout LyX-Code


\size small 
        STA $C08C,X   Write byte.
\layout List
\labelwidthstring 00.00.0000

Note: $C08F,X must already have been accessed to insure Write mode and a
 100-microsecond delay should be invoked before writing.
\layout Standard

Due to hardware constraints, normal data bytes must be written in 32-cycle
 loops.
 The example below writes the two bytes $D5 and $A to the disk.
 It does this by an immediate load of the accumulator, followed by a subroutine
 call (WRITE9) that writes the bytes in the accumulator.
 Timing is so critical that different routines may be necessary, depending
 on how the data is to be accessed, and code cannot cross memory page boundaries
 without an adjustment.
\layout LyX-Code


\size small 
        LDA #$D5      Load byte to write.
     (2 cycles)
\layout LyX-Code


\size small 
        JSR WRITE9    Go write it.
            (6)
\layout LyX-Code


\size small 
        LDA #$AA      Load byte to write.
     (2)
\layout LyX-Code


\size small 
        JSR WRITE9    Go write it.
            (6)
\layout LyX-Code


\size small 
        ...
\layout LyX-Code


\size small 
WRITE9  CLC           Provide different       (2)
\layout LyX-Code


\size small 
WRITE7  PHA           delays to produce       (3)
\layout LyX-Code


\size small 
        PLA           correct timing          (4)
\layout LyX-Code


\size small 
WRITE   STA $C08D,X   Store byte in register.
 (5)
\layout LyX-Code


\size small 
        ORA $C08C,X   Write byte.
             (4)
\layout LyX-Code


\size small 
        RTS           Return to caller.
       (6)
\layout Section

Calling A Storage Device Driver
\layout Standard

ProDOS is device independent in that it requires a device driver for all
 storage devices.
 ProDOS comes with two device drivers built in.
 One supports the standard Apple floppy disk drive (Disk II or equivalent).
 The other supports a RAM drive on the Apple IIc or an Apple IIe that has
 128K of memory.
 ProDOS can also support the ProFile hard disk which has its device driver
 on ROM.
 It seems clear that there will be many kinds of storage devices available
 in the future, each with its own driver.
\layout Standard

These device drivers are used as subroutines by the MLI and provide the
 means of accessing the appropriate device.
 Four basic functions are currently defined for a device driver.
 They are 
\series bold 
STATUS
\series default 
, 
\series bold 
READ
\series default 
, 
\series bold 
WRITE
\series default 
, and 
\series bold 
FORMAT
\series default 
.
 However, not all device drivers will provide all four functions.
 The Disk II Device Driver, for example, does not support FORMAT: because
 of space constraints, this function is provided in the program named FILER.
\layout Standard

The READ BLOCK and WRITE BLOCK calls in the MLI provide the only means of
 using a device driver from ProDOS and is the preferred method.
 While it is not generally recommended, any device driver can be called
 directly.
 This could prove useful in particular applications that don't require the
 MLI.
 Great care should be taken when calling the device driver directly because
 doing so can easily destroy data on the particular storage device.
\layout Standard

While the parameters to call a device driver are quite straightforward,
 there are several potential difficulties to consider.
 First, RAM based device drivers normally reside in bank-switched memory,
 and therefore must be carefully selected and deselected.
 Second, a request for an unsupported device function may produce undesirable
 results.
\layout Standard

There are four inputs stored in six zero page locations that must contain
 the appropriate information when a call is made to a device driver.
 The first input is the 
\series bold 
Command Code
\series default 
, which indicates which operation is requested.
 As mentioned earlier, four operations are currently defined.
 The first of these is STATUS, which is used to determine if the device
 is ready to be accessed (either Read or Write).
 Although not all device drivers do so, it is suggested that the number
 of blocks the device supports be returned, in addition to the status.
 This should be done using the X (low bytes) and Y (high byte) registers.
 The remaining operations are quite straightforward --- READ for reading
 a block, WRITE for writing a block, and FORMAT to format or initialize
 the media.
\layout Standard

The second input value is the 
\series bold 
Unit Number
\series default 
, indicating in which slot and drive the desired device resides.
 Only two drives per slot are supported directly, but it is possible to
 interface a controller card that supports additional drives or volumes.
\layout Standard

The third input is a 2-byte 
\series bold 
Buffer Pointer
\series default 
 that indicates the location of a 512 byte area for data transfer.
 The MLI verifies that no memory conflicts exist, but most device drivers
 will not do so; therefore, some degree of care should be exercised in determini
ng this input.
\layout Standard

The fourth input is a 2-byte 
\series bold 
Block Number
\series default 
 indicating which block is to be used for data transfer.
 The value should be in keeping with the number of blocks available on the
 desired device.
\layout Standard

The four inputs necessary are listed in Table 6.4.
\layout Standard

Although Apple has defined the manner in which device drivers are to be
 called, some variations will occur.
 Even the drivers provided by Apple vary slightly from one another.
 For this reason, it is advisable to make calls to any device driver with
 great caution.
 The parameter list descriptions that follow detail the four kinds of calls
 that are available.
 Not all device drivers will support all four call types and a request to
 an unsupported call type could prove dangerous.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="1">
<features>
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Table 6.4 Device Driver Parameters --- General Format 
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="6" columns="3">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Location
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Description
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Options
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$42
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Command Code
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="4" columns="3">
<features>
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

STATUS
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$01
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

READ
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$02
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

WRITE
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$03
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

FORMAT
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 

 
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$43
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Unit Number
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$44--$45
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

I/O Buffer
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Can be $0000 to $FFFF
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$46--$47
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Block Number
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Can be $0000 to $FFFF
\end_inset 
</cell>
</row>
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Return Code
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\layout Standard

\backslash 
medskip
\end_inset 


\layout Section

Calling the Disk II Device Driver
\layout Standard

Access to standard Apple floppy disk drives (Disk II or equivalent) is performed
 using the Disk II Device Driver provided with ProDOS.
\layout Standard

xxx
\layout Subsection

Device Driver Parameter Lists By Command Code
\layout Standard
\align center 

\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
$00 STATUS request
\layout ApiList


\shape smallcaps 
Function
\shape default 
 
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
This call returns the status of a particular device and is generally used
 to determine if a device is present, and if so, whether it is write protected.
 Additionally, some drivers will return the number of blocks supported by
 that device.
\layout ApiList


\shape smallcaps 
Required\SpecialChar ~
Inputs
\layout ApiList

$42 Must be $00.
\layout ApiList

$43 Unit number of disk to be accessed.
 The bit assignment of a ProDOS unit number is as follows: DSSS0000 where
 D is the drive number (0 = drive 1, 1 = drive 2) and SSS is the slot number
 (1--7).
\layout ApiList

$44--$45 Unused.
\layout ApiList

$46--$47 Unused but sometimes checked for validity (use $0000).
\layout ApiList


\shape smallcaps 
Returned\SpecialChar ~
Values
\layout ApiList

Carry\SpecialChar ~
Flag
\layout ApiList

Clear --- No error occurred
\layout ApiList

Set --- Error occurred (see Accumulator for type)
\layout ApiList

Accumulator
\layout ApiList

$00 --- No error occurred
\layout ApiList

$27 --- I/O error or bad block number
\layout ApiList

$28 --- No device connected to unit
\layout ApiList

$2B --- Disk is write protected
\layout ApiList

X-register Blocks available (low byte).
\layout ApiList

Y-register Blocks available (high byte).
\layout Standard
\align center 
$01 READ request
\layout ApiList


\shape smallcaps 
Function
\shape default 
 
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
This call 
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
will read a 512-byte block and store it at the specified memory location.
 Most drivers will not check the memory location, so some care is suggested.
\layout ApiList


\shape smallcaps 
Required\SpecialChar ~
Inputs
\layout ApiList

$42 Must be $01.
\layout ApiList

$43 Unit number of disk to be accessed.
 The bit assignment of a ProDOS unit number is as follows: DSSS0000 where
 D is the drive number (0 = drive 1, 1 = drive 2) and SSS is the slot number
 (1--7).
\layout ApiList

$44--$45 Address (LO/HI) of the caller's 512-byte buffer into which the
 block will be read.
 The buffer need not be page aligned.
\layout ApiList

$46--$47 Block number (LO/HI) to read.
 Must be valid for the device being called.
\layout ApiList


\shape smallcaps 
Returned\SpecialChar ~
Values
\layout ApiList

Carry\SpecialChar ~
Flag
\layout ApiList

Clear --- No error occurred
\layout ApiList

Set --- Error occurred (see Accumulator for type)
\layout ApiList

Accumulator
\layout ApiList

$00 --- No error occurred
\layout ApiList

$27 --- I/O error or bad block number
\layout ApiList

$28 --- No device connected to unit
\layout LyX-Code

\layout LyX-Code

\layout Chapter

Customizing ProDOS
\layout Section

System Programming With ProDOS
\layout Standard

Apple has provided a number of customizing interfaces to ProDOS which allows
 a programmer to tailor the operation of the system to his specific application
 needs.
 These interfaces are considered 
\begin_inset Quotes eld
\end_inset 

safe
\begin_inset Quotes erd
\end_inset 

 and acceptable when working with ProDOS.
\layout Standard

Before discussing specific system programming considerations, it is important
 to understand how ProDOS uses memory and what areas are reserved for its
 use versus those available for applications programs.
 Referring to Figure 7.1, the following areas of memory are officially 
\begin_inset Quotes eld
\end_inset 

owned
\begin_inset Quotes erd
\end_inset 

 by the ProDOS Kernel: $D000--$FFFF in the language card (primary $D000--$DFFF
 bank); $BF00--$BFFF; Zero page locations $3A--$4F; and part of the second
 4K bank of the language card (starting at $D100).
 The rest of this 4K bank is reserved for the QUIT code driver and future
 uses.The ProDOS Kernel also reserves portions of auxiliary memory (128K)
 for future use --- namely, the same locations it uses in main memory, zero
 page locations $80--$FF, and locations $200--$3FF.
 Apple's future plans for these memory areas include networking and menu
 managers, so if you use them you do so at your own risk.
 In a 128K machine, ProDOS currently sets up an electronic 
\begin_inset Quotes eld
\end_inset 

RAM drive
\begin_inset Quotes erd
\end_inset 

 volume in the auxiliary memory.
 At present, this volume encompasses most of the auxiliary 64K.
 In the future, its size may be reduced to accomodate enhancements as mentioned
 above.
 You can use auxiliary memory for your own applications if you disable the
 /RAM device driver (see instructions later in this chapter).
 If the BASIC Interpreter is used, an additional area of memory from $9600--$BEF
F is allocated to its use.
 $3D0--$3FF is used as a system vector area as defined by the 
\emph on 
Apple II Reference Manual for the IIe Only
\emph default 
.
\layout Standard

Note that ProDOS routines, including the clock driver, make heavy use of
 $200--$2FF, the monitor GETLN input line buffer.
 If your programs use this area, you should not depend upon it across ProDOS
 system calls.
 You should also be aware of the fact that the MLI cannot be called from
 memory in the auxiliary bank, and that memory outside the area between
 $200 and $BEFF in the main RAM bank may not be used for buffers passed
 to the MLI.
\layout Comment

Insert figure here
\layout Section

Installing A Program Between The BI And Its Buffers
\layout Standard

Once in a while it is useful to find a 
\begin_inset Quotes eld
\end_inset 

safe
\begin_inset Quotes erd
\end_inset 

 place in memory to put a machine language program (a printer driver, or
 external command handler, perhaps) where BASIC and ProDOS will never walk
 over it.
 If the program is less than 200 bytes long, $300 is a good choice.
 For larger programs, it is usually better to 
\begin_inset Quotes eld
\end_inset 

tuck
\begin_inset Quotes erd
\end_inset 

 the program in between the ProDOS BASIC Interpreter and its file I/O buffers.
 The program need not be relocatable, since the BI will always be in the
 same place in memory, and the program can be placed at a fixed location
 just below it (see Figure 5.1).
 More than one program may be 
\begin_inset Quotes eld
\end_inset 

tucked
\begin_inset Quotes erd
\end_inset 

 in this area, but this may require one or more of them to be relocated,
 depending upon the order in which they are loaded.
\layout Standard

To request space for a program, you must execute a call to the BI's buffer
 allocation subroutine using a vector in the BI Global Page.
 You may request a buffer of any size as long as it an even multiple of
 pages (one page is 256 bytes).
 When called, the buffer allocation routine relocates any open file buffers
 as well as its General Purpose Buffer downward in memory, lowering Applesoft's
 HIMEM pointer as necessary, and returns the address of the first page in
 the new buffer.
 The new buffer will be placed directly below $9600.
 Subsequent calls to the buffer allocation routine will cause allocations
 of buffers below earlier ones.
 the BI file buffers will always be lower in memory than any externally
 allocated buffers.
 When you are finished with all of the buffers you have allocated, you may
 free all of them with a single call.
 There is no provision for freeing individual buffers
\layout Standard

To allocate a buffer, invoke the following subroutine:
\layout LyX-Code


\size small 
GBUFF   LDA #4        ALLOCATE 4 PAGES (1024 BYTES)
\layout LyX-Code


\size small 
        JSR $BEF5     CALL GETBUFR
\layout LyX-Code


\size small 
        BCS ERROR     DID AN ERROR OCCUR?
\layout LyX-Code


\size small 
        STA BUFMSB    STORE BUFFER ADDRESS MSB
\layout LyX-Code


\size small 
        LDA #0
\layout LyX-Code


\size small 
        STA BUFLSB    STORE BUFFER ADDRESS LSB
\layout LyX-Code


\size small 
        RTS           ALL DONE
\layout Standard

To free all buffers you have allocated:
\layout LyX-Code


\size small 
FBUFFS  JSR $BEF8     CALL FREEBUFR
\layout Standard

Note that you may allocate as many buffers as you wish using the GBUFF subroutin
e, but that a single call to FBUFFS frees all buffers.
\layout Section

Adding Your Own Commands To The ProDOS BASIC Interpreter
\layout Standard

There exists a well defined interface to allow you to write your own command
 handlers for the ProDOS BASIC Interpreter.
 Suppose, for example, that you wish to add a COPY command which will accept
 and input pathname, followed by a comma and an output pathname.
 You can write a handler for such a command in assembly language, install
 the handler between the BI and its buffers (see the previous section),
 and then inform the BI of its existence.
 Every time the BI receives a command line it doesn't recognize, it will
 pass it through to your handler before passing it to Applesoft.
 Note that this implies that your command's name must be different from
 any existing ProDOS command name.
 You may not replace or supercede an existing ProDOS command.
\layout Standard

To install your own command handler, place its entry point address in the
 vector in the BI Global Page at $BE07 and $BE08.
 These two bytes are the address portion of a Jump (JMP) instruction (EXTERNCMD)
 which normally points to a Return from Subroutine (RTS) instruction within
 the BI.
 It is not a good idea to assume that this address is pointing to an RTS
 since someone else's command handler could have been previously installed.
 To make sure you do not 
\begin_inset Quotes eld
\end_inset 

disconnect
\begin_inset Quotes erd
\end_inset 

 an earlier installed command handler and yours is 
\begin_inset Quotes eld
\end_inset 

daisy chained
\begin_inset Quotes erd
\end_inset 

 to it, save the address you find in EXTERNCMD + 1 and branch to it from
 your handler if the command line passed is not your command.
\layout Standard

Each time the BI scans a command line and cannot find the command name in
 its table of valid names, it will call your routine.
 Your program should compare the command in the command line with yours.
 The address of the command line is in VPATH1 ($BE6D/$BE6D) in the BI Global
 Page.
 The command line consists of a length byte followed by one or mroe ASCII
 characters with their msot significant bit off.
 If the command is not yours, jump to the next handler (previous contents
 of $BE07/$BE08) with the carry set (SEC) to indicate the command is not
 yours.
 If the command is yours, there are two options.
 If the command's syntax is not compatable with other ProDOS commands (i.e.
 it has nonstandard operands or keyords), you may immediately begin performing
 the function indicated.
 When the program finishes, it should store a zero in PBITS in the BI Global
 Page ($BE54) to indicate no operands are to be parsed, and return (RTS)
 with the carry clear (CLC).
 In this case, do not JMP to the next handler as you would if the command
 was not yours.
 If, on the other hand, the command has standard ProDOS syntax, you can
 use the BI's syntax scanner to pick off the operands and optional keywords.
 To do this, once you have identified the command as yours, store the address
 of the beginning of your code which will process the command (after the
 syntax scan) in XTERNADDR ($BE50/$BE51) in the BI Global Page, store a
 $00 in XCNUM ($BE53) to indicate that this is an external command, and
 store the length of your command name (less one) in XLEN ($BE52) so that
 the BI will know where to start looking for operands.
 You should also set up PBITS (two bytes of flags) in the BI Global Page
 to describe the operands the BI is likely to find on your command.
 If you have a very simple command with only a pathname as an operand, you
 can set PBITS ro $01,$00.
 If you want the BI to automatically provide the prefix of the current volume
 (default slot, drive) as well as allow the S and D keywords, set PBITS
 to $01,$04.
 Once you have set up XTERNADDR, XCNUM, XLEN, and PBITS, return (RTS) to
 the BI with the carry clear (CLC).
 When the command line has been successfully scanned, control will return
 to your handler at the location you indicated in XTERNADDR.
 If a SYNTAX ERROR occurs, control will not return.
 When your command handler completes its tasks, it may return to the BI
 ith an RTS instruction (the carry here is insignificant).
 Your handler need not save or restore any registers.
\layout Standard

An example of a command handler is given in Appendix A.
 This program installs a handler between the BI and its buffers, and connscts
 it to ProDOS through the EXTERNCMD vector.
 If the ProDOS user enters the command 
\begin_inset Quotes eld
\end_inset 

TYPE
\begin_inset Quotes erd
\end_inset 

 folloed by a pathname, the command handler reads the indicated file and
 prints it on the screen.
\layout Section

Disable /RAM Volume For 128K Machines
\layout Standard

If your application needs to use the additional 64K in the Extended 80-column
 Card (or the alternate 64K bank in the IIc) for its on purposes, rather
 than as an electronic disk drive (RAM drive), you should disable the /RAM
 device driver.
 You might want to do this if you plan to use the 
\begin_inset Quotes eld
\end_inset 

double HIRES
\begin_inset Quotes erd
\end_inset 

 graphics feature of the Apple IIe and IIc, for example.
\layout Standard

The /RAM device driver is installed by the ProDOS Loader/Relocator when
 the Kernel is loaded.
 Part of it resides in the Kernel itself (from $FF00--$FF7F), and the remainder
 remains in auxiliary memory at $200--$3FF.
 Its address is placed in the list of device drivers for Slot 3, Drive 2
 in the System Global Page.
\layout Standard

One way to avoid conflicts between the /RAM and your application is the
 BSAVE a dummy file such that its blocks will coincide ith the area of memory
 you ill be using.
 If you BSAVE an 8K file to /RAM (before any other operations on the /RAM
 volume), it will fall across $2000--$3FFF, the primary HIRES buffer.
 If you save a second 8K file it will fall across $4000--$5FFF, the secondary
 HIRES buffer.
 This is the easiest way to use 
\begin_inset Quotes eld
\end_inset 

double HIRES
\begin_inset Quotes erd
\end_inset 

 graphics while leaving the /RAM volume partially available for your use
 as an electronic disk drive.
\layout Standard

If you want to totally disable the /RAM device driver, you must remove its
 entry from the System Global Page device driver vector list (DEVADR32).
 You must lso remove the device number for Slot 3, Drive 2 from the online
 devices list (DEVLST), and reduce the device count (DEVCNT) by one.
 If you plan to reinstall the /RAM volume later, be sure to save the contents
 of DEVADR32 in a safe place so you can later restore it.
 Note that it is good programming practive to leave /RAM installed upon
 exiting your programso that other applications may use it.
 Reinstalling /RAM erases (
\begin_inset Quotes eld
\end_inset 

formats
\begin_inset Quotes erd
\end_inset 

) the volume, so you should not reinstall it upon entry to an application
 which will be reading files passed via the /RAM volume by a previous applicatio
n.
\layout Standard

The following subroutine will remove the /RAM driver, allowing alternate
 uses of the auxilary 64K:
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
*       START BY CHECKING TO SEE IF /RAM COULD BE THERE
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
REMOVE  LDA $BF98       CHECK MACHID
\layout LyX-Code


\size small 
        AND #$30        ISOLATE MEMORY BITS
\layout LyX-Code


\size small 
        CMP #$30        128K?
\layout LyX-Code


\size small 
        BNE NORAM       NO - NO AUX MEMORY
\layout LyX-Code


\size small 
        LDA $BF26
\layout LyX-Code


\size small 
        CMP $BF16       IF SLOT 3, DRV <> DRV 2 VECTOR..
\layout LyX-Code


\size small 
        BNE GOTRAM      THEN IT'S INSTALLED
\layout LyX-Code


\size small 
        LDA $BF27
\layout LyX-Code


\size small 
        CMP $BF17
\layout LyX-Code


\size small 
        BNE GOTRAM
\layout LyX-Code


\size small 
NORAM   SEC ;
\layout LyX-Code


\size small 
OKXIT   RTS
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
*       SAVE OLD VECTOR AND REMOVE IT
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
GOTRAM  LDA $BF26       SAVE OLD VECTOR CONTENTS
\layout LyX-Code


\size small 
        STA OLDVEC
\layout LyX-Code


\size small 
        LDA $BF27
\layout LyX-Code


\size small 
        STA OLDVEC+1
\layout LyX-Code


\size small 
        LDA $BF16       POINT IT AT "UNISTALLED DEV"
\layout LyX-Code


\size small 
        STA $BF26
\layout LyX-Code


\size small 
        LDA $BF17
\layout LyX-Code


\size small 
        STA $BF27
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
*       SQUISH OUT DEVICE NUMBER FROM DEVLST
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
        LDX $BF31       GET DEVCNT
\layout LyX-Code


\size small 
DEVLP   LDA $BF32,X     PICK UP LAST DEVICE NUM
\layout LyX-Code


\size small 
        AND #$70        ISOLATE SLOT
\layout LyX-Code


\size small 
        CMP #$30        SLOT = 3?
\layout LyX-Code


\size small 
        BEQ GETSLT      YES, CONTINUE
\layout LyX-Code


\size small 
        DEX
\layout LyX-Code


\size small 
        BPL DEVLP       CONTINUE SEARCH BACKWARDS
\layout LyX-Code


\size small 
        BMI NORAM       CAN'T FIND IT IN DEVLST
\layout LyX-Code


\size small 
GOTSLT  LDA $BF32+1,X   GET NEXT NUMBER
\layout LyX-Code


\size small 
        STA $BF32,X     AND MOVE THEM FORWARD
\layout LyX-Code


\size small 
        INX
\layout LyX-Code


\size small 
        CPX $BF31       REACHED LAST ENTRY?
\layout LyX-Code


\size small 
        BNE GOTSLT      NO, LOOP
\layout LyX-Code


\size small 
        DEC $BF31       REDUCE DEVCNT BY 1
\layout LyX-Code


\size small 
        LDA #$00        ZERO LAST ENTRY IN TABLE
\layout LyX-Code


\size small 
        STA $BF32,X
\layout LyX-Code


\size small 
        CLC
\layout LyX-Code


\size small 
        BCC OKXIT       BRANCH ALWAYS
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
OLDVEC  DW  0           OLD VECTOR SAVE AREA
\layout Standard

To reinstall the /RAM driver, execute this subroutine:
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
*       SEE IF SLOT 3 HAS A DRIVER  ALREADY
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
HIMEM   EQU $73         PTR TO BI'S GENERAL PURPOSE BUFFER
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
INSTALL LDX $BF31       GET DEVCNT
\layout LyX-Code


\size small 
INSLP   LDA $BF32,X     GET A DEVNUM
\layout LyX-Code


\size small 
        AND #$70        ISOLATE SLOT
\layout LyX-Code


\size small 
        CMP #$30        SLOT 3?
\layout LyX-Code


\size small 
        BEQ INSOUT      YES, SKIP IT
\layout LyX-Code


\size small 
        DEX
\layout LyX-Code


\size small 
        BPL INSLP       KEEP UP THE SEARCH
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
*       RESTORE THE DEVNUM TO THE LIST
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
        LDX $BF31       GET DEVCNT AGAIN
\layout LyX-Code


\size small 
        CPX $0D         DEVICE TABLE FULL
\layout LyX-Code


\size small 
        BNE INSLP2
\layout LyX-Code


\size small 
ERROR   ...
             YOUR ERROR ROUTINE
\layout LyX-Code


\size small 
INSLP2  LDA $BF32-1,X   MOVE ALL ENTRIES DOWN
\layout LyX-Code


\size small 
        STA $BF32,X     TO MAKE ROOM AT FRONT
\layout LyX-Code


\size small 
        DEX
\layout LyX-Code


\size small 
        BNE INSLP2
\layout LyX-Code


\size small 
        LDA $#B0
\layout LyX-Code


\size small 
        STA $BF32       SLOT 3, DRIVE 2 AT TOP OF LIST
\layout LyX-Code


\size small 
        INC $BF31       UPDATE DEVCNT
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
*       NOW PUT BACK THE DEVICE DRIVER VECTOR
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
        LDA OLDVEC
\layout LyX-Code


\size small 
        STA $BF26
\layout LyX-Code


\size small 
        LDA OLDVEC+1
\layout LyX-Code


\size small 
        STA $BF27
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
*       FINALLY, REFORMAT THE /RAM VOLUME
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
        LDA $BF32
\layout LyX-Code


\size small 
        STA $43         DEVNUM = SLOT 3, DRIVE 2
\layout LyX-Code


\size small 
        LDA #3
\layout LyX-Code


\size small 
        STA $42         CMD = FORMAT
\layout LyX-Code


\size small 
        LDA HIMEM       512-BYTE BLOCK BUFFER
\layout LyX-Code


\size small 
        STA $44         (PAGE ALIGNED)
\layout LyX-Code


\size small 
        LDA HIMEM+1     WE CAN USE BI'S G.P.
 BUFFER
\layout LyX-Code


\size small 
        STA $45         (IF BI IS AROUND)
\layout LyX-Code


\size small 
        STA $C080       SELECT L.C.
 FOR DRIVER
\layout LyX-Code


\size small 
        JSR RAMDRV      GO FORMAT THE VOLUME
\layout LyX-Code


\size small 
        STA $C081       SELECT MOTHERBOARD ROMS
\layout LyX-Code


\size small 
INSOUT  RTS ;           AND EXIT TO CALLER
\layout LyX-Code


\size small 
RAMDRV  JMP ($BF26)     <<< JUMP TO /RAM DRIVER >>>
\layout Section

Writing Your Own Interpreter
\layout Standard

A ProDOS 
\begin_inset Quotes eld
\end_inset 

Interpreter
\begin_inset Quotes erd
\end_inset 

 (also known as a 
\begin_inset Quotes eld
\end_inset 

System Program
\begin_inset Quotes erd
\end_inset 

) is a machine language program hich stands between the user and the ProDOS
 MLI, providing a functions.
 An interpreter may be executed by the smart RUN command (
\begin_inset Quotes eld
\end_inset 

--
\begin_inset Quotes erd
\end_inset 

), may be invoked at boot time, or may be executed upon leaving another
 ProDOS interpreter.
 Interpreters are stored in SYS files on a ProDOS volume, and are initially
 loaded at $2000, although they may include code to relocate themselves
 elsewhere once they begin execution.
 Examples of interpreters are BASIC.SYSTEM (the 
\begin_inset Quotes eld
\end_inset 

BI
\begin_inset Quotes erd
\end_inset 

), FILER, CONVERT, and EDASM.SYSTEM.
 According to convention, an interpreter must be able to pass control to
 any other interpreter when it exits.
\layout Standard

When writing your own interpreter, you must be aware of these considerations:
\layout Enumerate

You must BSAVE your interpreter as a 
\begin_inset Quotes eld
\end_inset 

SYS
\begin_inset Quotes erd
\end_inset 

 type file from location $2000.
 If you want to include code to execute elsewhere in the machine, you may
 include a front-end which relocates the rest of the program (this is what
 the BI does).
 Normally, the memory available to you in a 64K system includes $800--$BEFF.
 If you are running in a 48K machine, the ProDOS Kernel occupies memory
 from $9000--$BFFF so you are limited to $800--$8FFF for your program.
\layout Enumerate

If you want your interpreter to be automatically executed as the first interpret
er when ProDOS boots, you must name it 
\begin_inset Quotes eld
\end_inset 

xxxx.SYSTEM
\begin_inset Quotes erd
\end_inset 

, here xxxx can be any name.
 It must also be the first SYS file using that naming convention to be found
 in the Volume Directory of the boot diskette.
\layout Enumerate

In order to insure correct operation of the interrupt handler, in the ProDOS
 Kernel, set the stack register (S) to point to the top of the stack page
 ($FF) upon entry, and do not use more than the top three quarters of the
 stack.
 The interrupt handler assumes that the last item on your stack is stored
 at $1FF, hen it makes its determination of whether or not to save part
 of the contents of the stack before invoking an interrupt driver routine.
\layout Enumerate

As soon as your program begins execution, it should set up the POWERUP byte
 in page 3 and three areas in the System Global Page as follows.
\layout LyX-Code

$3F4:   POWERUP byte
\layout LyX-Code

$BF58:  BITMAP (system memory bit map)
\layout LyX-Code

$BFFC:  IBAKVER (minimum version of MLI acceptable)
\layout LyX-Code

$BFFD:  IVERSION (version number of your interpreter)
\layout Standard

When your interpreter gets control, it should first set up the RESET vector
 at $3F2/$3F3 to point to its own RESET handler and fix the POWERUP byte
 at $3F4 accordingly.
 The POWERUP byte should be fixed even if you do not replace the RESET handler
 address (unless you want to reboot on RESET).
 To fix the POWERUP byte, exclusive OR the contents of $3F3 with #$A5 and
 store the result in $3F4.
\layout Standard

A subroutine for checking the system memory bit map was given in Chapter
 6.
 Use this to mark those areas in memory which your program will use.
 Do not mark areas which may be used for MLI buffers.
 By doing this, the MLI can keep a watchful eye on the execution of your
 program to prevent accidental overlay of your code with buffers.
 To determine what values to use for IBAKVER and IVERSION, examine memory
 in the version of ProDOS you are using for development and note the values
 at $BFFE (KBAKVER) and $BFFF (KVERSION).
 Assemble the values you find there as constants into your program, and
 use these to initialize IBAKVER And IVERSION.
\layout Enumerate

If you wish to use 80 columns, first check the MACHID byte in the System
 Global Page to see if 80 columns are available and then call (JSR) $C300.
 To disable 80-column hardware, load a #$15 into the A register and call
 $C300.
 Avoid using the Apple IIe and IIc 80-column soft switches, because these
 will not work for third party 80-column cards or in an Apple II or Apple
 II Plus.
\layout Enumerate

When your program is ready to exit, close all open files, reinstall the
 /RAM driver if you disconnected it previously, and execute the following
 code.
\layout LyX-Code


\size small 
EXIT    DEC $3F4        FORCE REBOOT ON RESET
\layout LyX-Code


\size small 
        JSR $BF00       CALL THE MLI
\layout LyX-Code


\size small 
        DFB $65         QUIT CALL
\layout LyX-Code


\size small 
        DW  PARMS
\layout LyX-Code


\size small 
        SKP 1
\layout LyX-Code


\size small 
PARMS   DFB 4           4 PARMS
\layout LyX-Code


\size small 
        DFB 0           QUIT TYPE = 0
\layout LyX-Code


\size small 
        DW  0           RESERVED
\layout LyX-Code


\size small 
        DFB 0           RESERVED
\layout LyX-Code


\size small 
        DW  0           RESERVED
\layout Standard

The MLI will free any memory you have allocated in the system bit map.
 It will then prompt the user for a new prefix and pathname for the next
 interpreter, and will load it and execute it.
 The code which performs these tasks is at $D100--$D3FF in the secondary
 4K block of the language card.
 It is moved by the MLI to $1000--$12FF before execution.
 You may create your own quit code by replacing the three pages of code
 image in the language card if you wish.
\layout Section

Installing New Peripheral Drivers
\layout Standard

If you are writing for a peripheral, such as a printer or disk drive, you
 should be aware of the conventions to which ProDOS adheres when examining
 and calling drivers.
\layout Standard

If your driver is in ROM on the peripheral card itself, it should follow
 the Apple II standards for peripherals as follows.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="1">
<features>
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

For Non-Disk Devices
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="5" columns="2">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Value
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs05
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$38 (standard BI requirement)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs07
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$18 (standard BI requirement)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs0B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$01 (generic signature of firmware cards)
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs0C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$ci (specific device signature)
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

The device signature is made up of two nibbles.
 
\begin_inset Quotes eld
\end_inset 

c
\begin_inset Quotes erd
\end_inset 

 defines the class of the device as shown below.
 The second nibble, 
\begin_inset Quotes eld
\end_inset 

i
\begin_inset Quotes erd
\end_inset 

, is a specific device identifier assigned by Apple Computer, Inc.
 
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="13" columns="2">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset Quotes eld
\end_inset 

c
\begin_inset Quotes erd
\end_inset 

 Nibble
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Class
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

reserved
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

printer
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

joystick or X-Y input device
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

serial or parallel card
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

modem
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

sound or speech device
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

clock
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

mass storage device
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

80-column card
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

network or bus interface
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

special purpose (other)
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$B--$F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

reserved
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

ProDOS makes the following special check for a clock:
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="5" columns="2">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Value
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$08 (unique device signature for the Thunderclock)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs02
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$28
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs04
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$58
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs06
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$70
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\layout Standard

\backslash 
medskip
\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="1">
<features>
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

For Disk Devices
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="20" columns="3">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Value
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs01
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$20
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

(unique disk device signature)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs03
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs05
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$03
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$Cs07
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$3C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$CsFC/D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Disk capacity in blocks (non-DISK II)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$CsFE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Status bits (non-DISK II)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
1...
 ....

\family default 
 removable media
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
.1..
 ....

\family default 
 interruptable device
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
..nn ....

\family default 
 number of volumes on device
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
 1...

\family default 
 format allowed
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
 .1..

\family default 
 write allowed
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
 ..1.

\family default 
 read allowed
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
 ...1
\family default 
 status read allows
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProFILE status bits = $47
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$CsFF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$00 = DISK II
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$xx = LSD of Block device driver in ROM
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
 for non-DISK II ($Csxx
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
 ProFILE hard disk $xx - $EA
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
 $xx may not equal $FF
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard

If your device driver is in RAM(below $C000), and you are invoking it using
 the BASIC Interpreter's commands PR# A$xxxx or IN# $A$xxxx, the first byte
 of your code must be a CLD instruction ($D8); otherwise, the BI will not
 recognize your routine as a valid driver.
 If your routine is short, you can place it in the $300--$3EF range.
 If it is longer, you can call the BI's buffer allocation routine (previously
 covered in this chapter) to place it between the BI and its buffers.
\layout Section

Installing An Interrupt Handler
\layout Standard

If you plan to use a peripheral card which supports interrupts, you may
 want to write an interrupt handler for that card.
 You should use the ProDOS first level interrupt handler in the Kernel so
 that other cards may also service their interrupts.
 To do this, use theMLI:ALLOC_INTERRUPT call to install your interrupt handler's
 entry address in the interrupt vector table within the ProDOS System Global
 Page.
 When writing an interrupt handler, follow these steps in the order indicated.
\layout Enumerate

Make sure your interrupt handler is stored in main memory between $200 and
 $BEFF.
\layout Enumerate

Call the MLI with the ALLOC_INTERRUPT ($40) call to cause your routine's
 entry point to be placed in the vector table.
\layout Enumerate

Perform whatever I/O is necessary specific to your peripheral to enable
 its interrupt generating mechanism.
\layout Standard

When your interrupt routine is called, the first instruction executed should
 be a CLD (to let ProDOS know that this is a valid externally written routine).
 You should then determine whether the interrupt which caused your routine
 to be invoked was indeed from your peripheral.
 If it was not, return to the Kernel with the carry flag set.
 If it was, service the interrupt, and upon completion, return to the Kernel
 with the carry flag clear.
 Your interrupt handler need not save or restore any registers, and it may
 use up to 16 bytes of stack space and sero page locations $FA through $FF
 (these are saved and restored by the Kernel).
 The Kernel assumes that the 
\begin_inset Quotes eld
\end_inset 

bottom
\begin_inset Quotes erd
\end_inset 

 of the stack is at $1FF when it determines what to save.
 Your application should always start the stack pointer at $1FF.
 Note that the motherboard ROM is deactivated in an interrupt hanlder routine
 (do not attempt to print via $FDED, for example).
\layout Standard

If you wish to remove a previously installed interrupt routine, first disable
 the interrupt generation mechanism on your peripheral card to prevent further
 interrupts from occuring, then call the MLI:DEALLOC_INTERRUPT function
 to remove your handler from the list.
\layout Standard

...
\layout Section

Creating A New File Type
\layout Standard

When you CREATE a file with the MLI, you may specify any file type you wish.
 If you wish to define a new file type for your application, pick a number
 between $F1 and $F8.
 When a CAT or CATALOG command is issued in the BASIC Interpreter, the file
 type listed will be a 
\begin_inset Quotes eld
\end_inset 

$Fn
\begin_inset Quotes erd
\end_inset 

.
 If you want to use a three letter abbreviation instead, you must modify
 the table in the BI.
 The patch given below is highly version dependent and will only work for
 ProDOS Version 1.0.1 (1 January 1984).
\layout Standard

The first thing to do is examine the table of file types in the BI at $B9DB.
 This table consists of 14 entries of one byte each, giving the ProDOS file
 type number for each of the supported types.
 You will have to replace one of the entries that you never use with your
 on file type.
 The entries need not be in numerical order.
 Immediately following the type table is a table of 3-byte entries giving
 the names which correspond to the numeric types.
 This table is in reverse order to the first and begins at $B9E9.
 As an example, suppose you wished to replace the last entry in the tables,
 $19 
\begin_inset Quotes eld
\end_inset 

ADB
\begin_inset Quotes erd
\end_inset 

, with $F1 
\begin_inset Quotes eld
\end_inset 

ABC
\begin_inset Quotes erd
\end_inset 

.
\layout LyX-Code

BLOAD BASIC.SYSTEM,TSYS,A$2000
\layout LyX-Code

CALL -151
\layout LyX-Code

43E8:F1
\layout LyX-Code

43E9:C1 C2 C3
\layout LyX-Code

BSAVE BASIC.SYSTEM,TSYS,A$2000
\layout Standard

Notice that $B9E8 maps to $43E8 in the unrelocated image of BASIC.SYSTEM.
\layout Comment

need footer note:
\layout List
\labelwidthstring 00.00.0000

Note: The patches described on this page are for version 1.0.1 of ProDOS and
 probably will not work with other versions.
\layout Section

Recovering Data From A Damaged Disk
\layout Standard

If one of the sectors which makes up a block is damaged, ProDOS will return
 with an I/O error.
 If in fact the error was in the second half of the block, the first half
 will be read into memory before the I/O error occurs.
 However, if the error is in the first half of the block, ProDOS will not
 attempt to read the second half.
 To recover the second, undamaged sector of the block, the following patch
 will force ProDOS to ignore any errors while reading the first half of
 a block.
 Errors while reading the second half will still behave normally.
\layout LyX-Code

BLOAD PRODOS,TSYS,A$2000
\layout LyX-Code

CALL -151
\layout LyX-Code

5228:00
\layout LyX-Code

BSAVE PRODOS,TSYS,A$2000
\layout Standard

The above patch, while it will work properly with undamaged blocks, is not
 advisable in normal use as it will fail to indicate when errors have occurred.
\layout Chapter

ProDOS Global Pages
\layout Standard

Readers of 
\emph on 
Beneath Apple DOS
\emph default 
 may remember that Chapter 8 of that book was devoted to a detailed analysis
 of DOS program logic.
 The contents of that chapter comprised one quarter of the book, and represented
 a complete description of more than 10K of machine language code.
 Two factors have led to the approach taken in 
\emph on 
Beneath Apple ProDOS
\emph default 
.
 First, ProDOS code is expected to be much more volatile than that of DOS.
 IF material similar to Chapter 8 in 
\emph on 
Beneath Apple DOS
\emph default 
 had been published here, it would have quickly become obsolete because
 of reassemblies of the operating system components by Apple.
 Throughout its lifetime, DOS as only completely reassembled once --- when
 the change was made from 3.1 to 3.2 in 1979.
 Our book documented a form of DOS in which most of the instructions had
 not 
\begin_inset Quotes eld
\end_inset 

moved
\begin_inset Quotes erd
\end_inset 

 in nearly five years! In contrast, before 
\emph on 
Beneath Apple ProDOS
\emph default 
 was published, two different versions of ProDOS were already being distributed
 --- 1.0.1 and 1.0.2.
 Although the differences between them are very minor, insertions of instruction
s and data have caused the shifting of major sections of code.
 Similar changes are expected in the future.
\layout Standard

A second factor in the decision to shorten Chapter 8 involved the physical
 size of ProDOS.
 The equivalent components of ProDOS, compared to the DOS code covered in
 our earlier book, occupy over 22K of memory.
 A complete treatment of this code ould be a book in and of itself.
 Coupled with the increased complexity of ProDOS which has resulted in longer
 chapters overall, as well as the previously mentioned vloatility of the
 code, we decided that an in-depth coverage of ProDOS program logic did
 not belong here.
\layout Standard

However, recognizing the importance of this material to many of our readers,
 a special 
\series bold 
supplement
\series default 
 has been prepared that provides a detailed description of every piece of
 code and data within the major ProDOS components.
 It is available directly from Quality Software.
 Updated editions of this supplement will be available on a periodic basis
 as Apple releases new versions of ProDOS.
 In addition, any errata and changes to the main body of 
\emph on 
Beneath Apple ProDOS
\emph default 
 will be found in future supplements, eliminating the need to buy future
 editions of this book.

\series bold 
 Instructions for ordering the supplement are provided at the end of this
 chapter
\series default 
.
\layout Section

BASIC Interpreter Global Page
\layout Standard

This page of memory is rigidly defined by the ProDOS BI.
 Fields given here will not move in later versions of ProDOS and may be
 referenced by external, user-written programs.
 Future additions to the global page may be made in areas which are marked
 
\begin_inset Quotes eld
\end_inset 

Not used
\begin_inset Quotes erd
\end_inset 

.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="75" columns="3">
<features islongtable="true">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Label
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Contents
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE00--BE02
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BIENTRY
\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JMP to WARMDOS (BI warmstart vector).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE03--BE05
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DOSCMD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JMP to SYNTAX (BI command line parse and execute).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE06--BE08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EXTRNCMD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JMP to user-installed external command parser.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE09--BE0B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ERROUT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JMP to BI error handler.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE0C--BE0E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PRINTERR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JUMP to BI error message print routine.
 Place error number in A-register.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE0F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ERRCODE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS error code (also at $DE.
 Applesoft ONERR code).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE10--BE1F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

OUTVEC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Default output vector in monitor and for each slot (1--7).
 
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE20--BE2F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INVEC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Default input vector in monitor and for each slot (1--7).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE30--BE31
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VECTOUT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Current output vector.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE32--BE33
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VECTIN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Current input vector
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE34--BE35
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VDOSIO
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

BI's output intercept address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE36--BE37
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

BI's input intercept address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE38--BE3B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VSYSIO
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

BI's internal redirection by STATE.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE3C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DEFSLT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Default slot.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE3D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DEFDRV
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Default drive.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE3E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PREGA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

A-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE3F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PREGX
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

X-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE40
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PREGY
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Y-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE41
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DTRACE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Applesoft TRACE is enabled flag (MSB on).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE42
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

STATE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Current intercept state.
 0 = immediate command mode.
 > 0 = deferred.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE43
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EXACTV
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

EXEC file active flag (MSB on).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE44
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IFILACTV
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

READ file active flag (MSB on).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE45
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

OFILACTV
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

WRITE file active flag (MSB on).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE46
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PFXACTV
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PREFIX read active flag (MSB on).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE47
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DIRFLG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

File being READ is a DIR file (MSB on).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EDIRFLG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

End of directory flag (no longer used).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE49
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

STRINGS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

String space count used to determine when to garbage collect.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE4A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TBUFPTR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Buffered WRITE data length.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE4B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INPTR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Command line assembly length.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE4C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CHRLAST
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Previous output character (for recursion check).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE4D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

OPENCNT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Number of files open (not counting EXEC).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE4E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EXFILE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

EXEC file being closed flag (MSB on).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE4F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CATFLG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Line type to format next in DIR file READ.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE50--BE51
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

XTRNADDR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

External command handler address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE52
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

XLEN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Length of command name (less one).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE53
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

XCNUM
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Number of command:
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="11" columns="11">
<features>
<column alignment="left" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<row>
<cell alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

external
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

OPEN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$14
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

WRITE
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$01
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IN#
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

READ
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$15
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

APPEND
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$02
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PR#
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SAVE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$16
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

CREATE
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$03
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CAT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BLOAD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$17
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

DELETE
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$04
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

FRE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BSAVE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PREFIX
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$05
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

RUN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CHAIN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$19
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

RENAME
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$06
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BRUN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$10
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CLOSE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

UNLOCK
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$07
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EXEC 
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$11
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

FLUSH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

VERIFY
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

LOAD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$12
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

NOMON
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

CATALOG
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$09
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SAVE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$13
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

STORE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

RESTORE
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

=
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

POSITION
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
<cell multicolumn="2" alignment="left" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="block" valignment="top" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE54--BE55
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PBITS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Permited command operand bits:
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="17" columns="3">
<features>
<column alignment="left" valignment="top" width="0(null)">
<column alignment="center" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$8000
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Prefix needed.
 Pathname optiona.l
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$4000
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Slot number only (PR# or IN#).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$2000
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Deferred command.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1000
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

File name optional.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0800
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

If file does not exist, create it.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0400
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

T: file type permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0200
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Second file name required.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0100
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

First file name required.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0080
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AD: address keyword permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0040
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

B: byte offset permitted
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0020
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

E: ending address permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

L: length permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0008
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

@: line number permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0004
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

S or D: slot/drive permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0002
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

F: field permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0001
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

R: record permitted.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

(V always permitted but ignored).
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE56--BE57
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

FBITS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Operands found on command line.
 Same bit assignments as above.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE5B--BE59
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VADDR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

A keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE5A--BE5C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VBYTE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

B keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE5D--BE5E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VENDA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

E
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE5F-BE60
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VLNTH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

L
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE61
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VSLOT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

S
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE62
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VDRIV
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

D keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE63--BE64
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VFELD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

F
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE65--BE66
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VRECD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

R keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE67
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VVOLM
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

V
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 keyword value
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
 (ignored)
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE68--BE69
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VLINE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

@
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 keyword value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE6A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VTYPE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

T
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 keyword value
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
 (in hex)
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE6B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VIOSLT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PR# or IN# slot number value.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE6C--VE6D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VPATH1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Primary pathname buffer (Address of length byte).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE6E--BE6F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VPATH2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Secondary
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
 pathname buffer (Address of length byte).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE70--BE84
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

GOSYSTEM
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Call the MLI using the parameter tables which follow.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE85
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SYSCALL
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

MLI call number for this call.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE86--BE87
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SYSPARM
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Address of the MLI parameter list for this call.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE88--BE8A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Return from MLI call.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE8B--BE9E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BADCALL
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

MLI error return; translate error code to BI error number.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BE9F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BISPARE1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Not used.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEA0--BEAB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SCREATE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

CREATE parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEAC--BEAE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SSGPRFX
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

GET_PREFIX, SET_PREFIX, DESTROY parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEAF--BEB3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SRENAME
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

RENAME parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEB4--BEC5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SSGINFO
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

GET_FILE_INFO, SET_FILE_INFO parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEC6--BECA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SONLINE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ONLINE, SET_MARK, GET_MARK, SET_EOF, GET_EOF, SET_BUF, GET_BUF, QUIT parameter
 list.
 
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BECB--BED0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOPEN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

OPEN parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BED1--BED4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SNEWLN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SET_NEWLINE parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BED5--BEDC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SREAD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

READ, WRITE parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEDD-BEDE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SCLOSE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

CLOSE, FLUSH parameter list.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEDF--BEF4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CCCSPARE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\begin_inset Quotes eld
\end_inset 

COPYRIGHT APPLE, 1983
\begin_inset Quotes erd
\end_inset 


\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEF5--BEF7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

GETBUFR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

GETBUFR buffer allocation subroutine vector
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEF8--BEFA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

FREEBUFR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

FREEBUFR buffer free subroutine vector
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEFB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Original HIMEM MSB
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BEFC--BEFF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Not used.
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard

\end_inset 


\layout Section

ProDOS System Global Page --- MLI Global Page
\layout Standard

Portions of this page of memory are rigidly defined by the MLI and are unlikely
 to move in later versions of ProDOS.
 However, some portions are less stable and could change in future releases.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="8" columns="3">
<features islongtable="true">
<column alignment="block" valignment="top" width="20text%">
<column alignment="block" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Label
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Contents
\end_inset 
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
Jump Vectors
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF00--BF02
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ENTRY
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JMP to MLI
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF03--BF05
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

JSPARE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Jump to system death code (via $BFF6)
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF06--BF08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DATETIME
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Jump to Date/Time routine (RTS if no clock).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF09--BF0B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SYSERR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JMP to system error handler.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF0C--BF0E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SYSDEATH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

JMP to system death handler.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF0F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SERR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

System error number.
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="32" columns="3">
<features islongtable="true">
<column alignment="block" valignment="top" width="20text%">
<column alignment="block" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
Device Information
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF10--BF11
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR01
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 0 reserved.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF12--BF13
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR11
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 1, drive 1 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF14--BF15
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR21
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 2, drive 1 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF16--BF17
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR31
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 3, drive 1 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF18--BF19
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR41
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 4, drive 1 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF1A--BF1B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR51
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 5, drive 1 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF1C--BF1D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR61
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 6, drive 1 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF1E--BF1F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR71
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 7, drive 1 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF20--BF21
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR02
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 0 reserved.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF22--BF23
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR12
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 1, drive 2 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF24--BF25
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR22
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 2, drive 2 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF26--BF27
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR32
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
/RAM device driver address (need extra 64K).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF28--BF29
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR42
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 4, drive 2 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF2A--BF2B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR52
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 5, drive 2 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF2C--BF2D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR62
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 6, drive 2 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF2E--BF2F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVADR72
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot 7, drive 2 device driver address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF30
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVNUM
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Slot and drive (DSSS0000) of last device.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF31
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVCNT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Count (minus 1) of active devices.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF32--BF3F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
DEVLST
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
List of active devices (slot, drive and identification --- DSSSIIII).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF40--BF4F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Copyright notice.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF50--BF55
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
IRQXITX
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Switch in language card and call IRQ handler at $FFD8.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF56--BF57
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
TEMP
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Temporary storage for IRQ code.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF58--BF6F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BITMAP
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Bitmap of low 48K of memory.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF70--BF71
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 1 buffer address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF72--BF73
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 2 buffer address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF74--BF75
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 3 buffer address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF76--BF77
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 4 buffer address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF78--BF79
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 5 buffer address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF7A--BF7B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 6 buffer address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF7C--BF7D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 7 buffer address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BF7E--BF7F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
BUFFER8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Open file 8 buffer address.
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="12" columns="3">
<features islongtable="true">
<column alignment="block" valignment="top" width="20text%">
<column alignment="block" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
Interrupt Information
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF80--BF81
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INTRUPT1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Interrupt handler address (highest priority).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF82--BF83
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
INTRUPT
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Interrupt handler address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF84--BF85
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
INTRUPT
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
Interrupt handler address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF86--BF87
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
INTRUPT
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Interrupt handler address (lowest priority).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF88
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INTAREG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

A-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF89
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INTXREG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

X-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF8A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INTYREG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Y-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF8B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
INT
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
S
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
REG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

S-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF8C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
INT
\family default 
\series default 
\shape default 
\size default 
\emph default 
\bar default 
\noun default 
\color default
P
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
REG
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

P-register save area.
\end_inset 
</cell>
</row>
<row>
<cell alignment="block" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF8D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INTBANKID
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Bank ID byte (ROM, RAM1, or RAM2).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF8E--BF8F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INTADDR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Interrupt return address.
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="13" columns="3">
<features islongtable="true">
<column alignment="block" valignment="top" width="20text%">
<column alignment="block" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
General System Information
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF90--BF91
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DATE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

YYYYYYYM MMMDDDDD.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF92--BF93
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TIME
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

...HHHHH ..MMMMMM.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF94
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

LEVEL
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Current file level.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF95
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BUBIT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Backup bit.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF96--BF97
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SPARE1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Currently unused.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF98
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

MACHID
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Machine ID Byte.
\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="17" columns="3">
<features>
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<column alignment="left" valignment="top" width="0(null)">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
00..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
0...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

II
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
01..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
0...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

II+
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
10..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
0...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

IIe
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
11..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
0...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

III emulation
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
00..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
1...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Future expansion
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
01..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
1...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Future expansion
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
10..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
1...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

IIc
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
11..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
1...
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Future expansion
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
..00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Unused
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
..01
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

48K
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
..10
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

64K
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
..11
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

128K
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
.X..
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Reserved
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
..0.
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

No 80-column card
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
..1.
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

80-column card present
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
...0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

No compatible clock
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
....
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
...1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Compatible clock present
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF99
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SLTBYT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Slot ROM map (bit on indicates ROM present).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF9A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PFIXPTR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Prefix flag (0 indicates no active prefix).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF9B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

MLIACTV
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

MLI active flag (1...
 ....
 indicates active).
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF9C--BF9D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CMDADR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Last MLI call return address.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF9E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SAVEX
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

X-register save area for MLI calls.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BF9F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SAVEY
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Y
\family roman 
\series medium 
\shape up 
\size normal 
\emph off 
\bar no 
\noun off 
\color none
-register save area for MLI calls.
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="6" columns="3">
<features islongtable="true">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
Language Card Bank Switching Routines
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFA0--BFCF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Language card entry and exit routines.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFA0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EXIT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFAA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EXIT1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFB5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

EXIT2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFB7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

MLIENT1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="7" columns="3">
<features islongtable="true">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
Interrupt Routines
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFD0--BFF3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Interrupt entry and exit routines.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFD0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IRQXIT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFDF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IRQXIT1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFE2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IRQXIT2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFE7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ROMXIT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\SpecialChar ~
\SpecialChar ~
BFEB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IRQENT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="4" columns="3">
<features islongtable="true">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
Data
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFF4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BNKBYT1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Storage for byte at $E000.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFF5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BNKBYT2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Storagefor byte at $D000.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFF6--BFFB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Switch on language card and call system death handler ($D1E4).
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="5" columns="3">
<features islongtable="true">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="20text%">
<column alignment="left" valignment="top" width="50text%">
<row>
<cell multicolumn="1" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\layout Standard


\series bold 
Version Information
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFFC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IBAKVER
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Minimum version of Kernel needed for this interpreter.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFFD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IVERSION
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Version number of this interpreter.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFFE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

KBAKVER
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Minimum version of Kernel compatible with this Kernel.
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BFFF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

KVERSION
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Version number of this Kernel.
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\end_inset 


\layout Section

Ordering The Supplement To Beneath Apple ProDOS
\layout Standard

Each owner of 
\emph on 
Beneath Apple ProDOS
\emph default 
 may order the latest updated supplement.
 The supplement describes in detail every piece of code and data within
 the major ProDOS components (see page 8--2).
 To order the supplement, you must mail the coupon on the next page directly
 to Quality Software (at the address on the coupon), along with a payment
 of $10.00 
\series bold 
plus
\series default 
 shipping and handling charges
\begin_inset Foot
collapsed true

\layout Standard

Shipping & Handling Charges
\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="2" columns="2">
<features>
<column alignment="left" valignment="top" width="0(null)">
<column alignment="right" valignment="top" width="0(null)">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

United States, Canada, and Mexico
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$2.50
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

All other coutries (insured air mail)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

$10.00
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 

.
 Your payment can be a check or bank draft in US dollars, or your VISA or
 MasterCard number and expiration date.
 California residents must add the appropriate sales tax (6 or 6.5%).
 No phone orders or CODs will be accepted.
 
\layout Chapter
\start_of_appendix 
Example Programs
\layout LyX-Code

\layout Chapter

Diskette Protection Schemes
\layout Standard

Protected software, that software which is modified in some way to prvent
 it from being copied or duplicated, has existed since very early in the
 history of the Apple II.
 This was even true of tape based software before disk drives were widely
 used.
 It is not known who protected the first piece of Apple software, but it
 has become a widespread practive.
 So has the practice of copying or 
\series bold 
breaking
\series default 
 protected software.
 It should be pointed out that the following discussion will not take sides
 in the sometimes controversial subject of software protection.
 Rather, it will provide an informative look at the methods used to protect
 software and how those methods bave been circumvented.
 This seems appropriate since almost all protection schemes now involve
 a modified or custom disk operating system.
\layout Standard

At this time, ProDOS is still relatively new and it is unclear if it will
 influence the current practice of protecting software.
 In that a ProDOS disk is identical to earlier operating systems (DOS 3.3)
 at a byte level, it is certainly possible and probable that protection
 will exist.
 However, since ProDOS can and will support other storage devices (i.e.
 hard disks etc.), and with the current trend in sharing data between different
 applications, additional challenges exist for software developers.
 It is possible that the percentage of protected software may decrease somewhat
 with the introduction of ProDOS.
 The following discussion will deal with software protection in general
 on the Apple II family of computers.
\layout Section*

A Brief History Of Apple Software Protection
\layout Standard

The first protected software was tape based and appeared in the latter part
 of 1978, and protected disks followed shortly thereafter.
 Early protection schemes were often quite effective as there was relatively
 little technical information available.
 Almost any modification that rendered the normal means of copying useless
 was sufficient in most cases --- most schemes did in fact consist of relatively
 minor changes to the normal format of data.
 Individuals were able to discover and disable these protection methods
 on a program by program basis, with little or no thought given to some
 automated means of reproducing protected software.
\layout Standard

It was not until perhaps a year later, in late 1979, that a significant
 event occurred in disk protection.
 An extremely popular product was introduced that employed a considerably
 improved protection method.
 This marked the beginning of an escalating battle between those protecting
 software and those trying to copy it.
 The protection methods used became more and more complex and involved,
 increasing time and expense for developers to create.
 The copiers were also increasing their efforts.
 Programs appeared that were designed to copy particular software products
 --- a major development in that it defeated a great number of different
 schemes with a single basic technique.
 These programs are referred to as 
\series bold 
nibble copiers
\series default 
 and were introduced in early 1981.
\layout Standard

Throughout this process, it is clear that both sides made use of the work
 of their counterparts.
 Protection schemes stated to reflect a working knowledge of breaking techniques
, and were often designed to circumvent a particular method or copier.
 The people breaking protection methods were also studying the various methods
 employed to stop them and producing increasingly effective tools.
 This produced a kind of ebb and flow seen in many competetive areas where
 each side gains a temporary advantage only to see it lost.
 Nibble copiers have had numerous revisions to cope with advancements in
 protection methods.
\layout Standard

Another significant milestone was the introduction of a 
\series bold 
hardware card
\series default 
 that could copy software from the Apple's memory, thus bypassing most existing
 protection methods.
 While it is hard to single out advancements in protection methods, the
 mere presence of the numerous copy programs, hardware devices, bulletin
 boards, classes, and magazines aimed at defeating protection methods indicates
 the constant advancement of protection.
 Also, the fact that software developers continue to protect software in
 the face of escalating costs indicates protection is still cost efective.
\layout Standard

The cycle will no doubt continue As new sophisticated schemes are developed,
 they will be broken by equally sophisticated schemes.
\layout Section*

Protection Methods
\layout Standard

It seems reasonable at this time to say that it is impossible to protect
 a program on disk in such a way that it can't be broken.
 This is, in large part, due to the nature of the Apple computer and its
 disk drive.
 It is an extremely well documented machine, with numerous publications
 available on both hardware and software functions.
 It is indeed difficult to hide anything (necessary in protecting software)
 from anyone who is willing to invest sufficient time to find it.
\layout Standard

Most disk protection methods fall into two different types of schemes.
 The first involves 
\series bold 
format alterations
\series default 
, altering some portion of the disk frin its normal format (Chapter 3 and
 Appendix C provide descriptions of the normal format).
 The second involves creating an identifiable mark or 
\series bold 
signature
\series default 
 that can be used to verify the disk.
\layout Subsection*

Format Alteration
\layout Standard

A great number of ways exist to alter the format of normal data.
 They range from a single byte change to an entirely different format.
 A special case is 
\series bold 
changing the location
\series default 
 of data, and not necessarily the structure of the data itself.
 n early example of this was moving the directory information from its normal
 location to a different track altogether.
 Later, tracks themselves were moved when 
\begin_inset Quotes eld
\end_inset 

half
\begin_inset Quotes erd
\end_inset 

 tracks becam popular (but data must be a full track apart from other data,
 a restriction imposed by hardware).
 Some disks now even use quarter tracks.
 Although these methods were effective for a while, most nibble copiers
 are equipped to handle them.
\layout Standard

A more elaborate technique used is known as 
\series bold 
spiral tracks
\series default 
.
 Data is staggered on alternating half tracks producing, as its name indicates,
 a spiral of sorts.
 Each half track contains approximately one third of a track of data.
 If the relationship of the different segments is critical, this method
 of protection can be quite difficult to deal with.
 Several copy programs are capable of handling this, but may require parameters
 and additional time to reproduce a disk protected in this manner.
\layout Standard

As with location changes, 
\series bold 
format changes
\series default 
 range from simple to complex.
 Almost all early changes were merely minor modifications to existing operating
 systems.
 The most common change was a change to the code that would read and write
 the Address Field.
 This was reasonable because the Address Field is never rewritten, and the
 only special coderequired was the code to read the modified Address Field.
\layout Standard

The Address Field normally starts with the bytes $D5/$AA/$96.
 If any of these bytes were changed, a standard operating system would not
 be able to locate that particular Address Field, causing an error.
 After the Address Field comes the address information itself (volume, t
 rack, sector, and checksum).
 Some common techniques include changing the order of this information,
 doubling the sector numbers, or altering the checksum with some constant.
 Any of the above would cause an error on a standard operating system.
 The Address Field ends with two closing bytes ($DE/$AA), which can be changed
 or switched also.
 Similar kinds of changes can be made to the Data Field.
 These techniques worked well until automated programs appeared.
\layout Standard

The first automated programs were good but generally made the assumption
 that the data portions had been modified and that the various gaps between
 the data portions were normal.
 This prompted modification of the gaps and eventually a radically different
 format in an attempt to circumvent the copy programs.
 These formats generally involved either different numbers of otherwise
 normal sectors on a track, or special sectors with Address and Data Fields
 combined.
 As with other advancements, this worked well for a time, but current nibble
 copiers make as few assumptions about the data format as possible and can
 generally deal with such techniques.
 
\layout Subsection*

Signature
\layout Standard

The earliest example of a signature was probably an unused track (track
 3 was commonly 
\begin_inset Quotes eld
\end_inset 

un
\begin_inset Quotes erd
\end_inset 

used).
 The software verifies the signature by trying to read a sector on the unused
 track.
 In an error occurred, the signature was verified.
 As simple as this seems now, it was reasonably effective.
 While this is a fairly obvious example of a signature, later methods were
 much more difficult to detect.
 In fact, most signatures have been uncoveredd by finding and examining
 the code that verified it.
 Once a method was known, an algorithm could be developed to deal with it.
\layout Standard

There are three common signatures used currently in protecting disks.
 The first to appear involves counting the number of bytes on a given track.
 This is commonly known as 
\series bold 
nibble counting
\series default 
.
 The reasoning was that no two drives could spin at precisely the same speed,
 and therefore would not reproduce a track precisely.
 While this is in fact true, a number of programs now provide the means
 to reproduce this type of signature.
\layout Standard

Next to arrive was a method that wsa dependent on the positional relationship
 between different portions of the disk.
 This is commonly known as 
\series bold 
synchronized tracks
\series default 
.
 It generally involves reading a specific sector, then moving the disk arm
 to another track (often with nonstandard timing), and finding a particular
 sector first.
 The angle between the two sectors is arbitrary, but will always provide
 just enough time to move the arm and allow for any settling time needed.
 This relationship between tracks would not normally be maintained when
 copying the disk, and the signature would thus be removed.
 This also is provided for in many current copying programs, sometimes requiring
 parameters for a particular disk.
 
\layout Standard

The final method involves writing extra zero bits at given locations on
 disk.
 These can be thought of as 
\series bold 
special sync bytes
\series default 
.
 When the disk is read, these extra bits are normally discarded.
 Figure 
\begin_inset LatexCommand \ref{fig:B1}

\end_inset 

 shows two different bit patterns that produce the same data when read.
 A special routine looks for the extra bits and thus verifies the signature.
 There exist some variations to this method which have proved quite difficult
 for 
\begin_inset Quotes eld
\end_inset 

nibble
\begin_inset Quotes erd
\end_inset 

 copy programs to handle.
 Parameters were generally required, but recent advancements in nibble copiers
 appear to be able to locate and reproduce these extra bits.
\layout Standard

We have dealt primarily with disk protection schemes and nibble copiers,
 but several other methods of protection exist.
 These are protection methods which do not allow a program to be taken out
 of memory and patched to disable the protection scheme.
 It is worth mentioning that copies produced by a nibble copier are themselves
 protected, but software broken in some other way may be copied by normal
 means.
\layout Standard


\begin_inset Float figure
wide false
collapsed false

\layout Caption


\begin_inset LatexCommand \label{fig:B1}

\end_inset 

Comparison of a Normal FF Byte and a Special Sync Byte
\layout Standard


\hfill 
11111111 
\begin_inset Formula $\longrightarrow$
\end_inset 

 FF
\hfill 
1111111100 
\begin_inset Formula $\longrightarrow$
\end_inset 

 FF
\hfill 

\end_inset 


\layout Subsection*

Memory Protection
\layout Standard

It has long been realized that software is vulnerable as it is being loaded
 into memory, and when it resides entirely in memory.
 This has prompted a number of techniques, the earliest of which involved
 
\series bold 
reset protection
\series default 
.
 When the Reset key was pressed (on early Apples), the software could be
 interrupted and was then resident in memory.
 Several memory locations were altered during a reset, and many programs
 were dependent on the values contained in those locations.
 The later Apple computers provide some measure of protection in that they
 make it much harder to interrupt software programs.
 The hardware boards designed to copy software from memory have made memory
 protection very difficult.
 The boards generate a Non-Maskable Interrupt and pass control to on-board
 software.
 It is not possible to prevent this interrupt form software.
 About the only defense is simply to never have the entire program in memory
 at one time.
 This is often inconvenient but may be the only effective defense.
 
\layout Subsection*

Code Protection
\layout Standard


\series bold 
Hiding the code
\series default 
 that reads the unusual disk format or checks for a particular signature
 has become increasingly popular.
 Early schemes rarely tried to hide anything because there were few people
 who knew where to look or even what to look for.But it is clear now that
 most of the advancements in nibble copiers resulted from the examination
 of the actual code that provided the protection.
 Signature schemes would have been effective much longer if it had been
 possible to hide the code that verified them.
 While it is impossible to prevent the code from being found, it can be
 made more difficult.
 The general method used is some sort of encryption of the code.
 It is decrypted just before execution, and either encrypted again or destroyed
 just after execution.
\layout Section*

The Ideal Protection Scheme
\layout Standard

There are thousands of programs available for the Apple II family of machines,
 and it is safe to say that they have all been copied despite a vast array
 of protection schemes.
 It seems reasonable to assume that this fact will not change.
 Nevertheless, it may be possible to devise a reasonably effective method.
 It would have to address the three primary ways that software is broken
 --- nibble copiers, hardware boards that copy memory, and what we call
 the 
\begin_inset Quotes eld
\end_inset 

front door
\begin_inset Quotes erd
\end_inset 

 method.
\layout Subsection*

Nibble Copiers
\layout Standard

Nibble copy programs have an advantage of sorts in that they need only respond
 to existng protection methods.
 This clearly requires considerable skill but not necessarily creativity.
 In fairness though it should be noted that at least one of the nibble copiers
 has included capabilities that may effectively deal with yet to be created
 protection schemes.
 The best that one should hope for is a protection method that requires
 parameters to be input by the user of the copier.
 If the method could be varied so that each variation required a different
 set of parameters, it would be considered a victory.
\layout Subsection*

Hardware Boards
\layout Standard

It is not possible through software to detect the presence of these boards,
 not prevent them from saving an image of memory onto a disk.
 For this reason, they are particularly effective with programs that are
 totally loaded into memory and require no additional disk accesses.
 The only good defense is to never have the entire program in memory at
 one time.
 While this could create some difficulties such as decreased performance
 for particular programs, it is nevertheless necessary for single program
 products.
 Modular software requiring constant disk access may already provide sufficient
 protection.
 
\layout Subsection*

Front Door Method
\layout Standard

The process by which a disk is loaded into memory is well defined for normal
 disks.
 Certain facts remain true of protected disks regardless of the method employed.
 First the disk must contain at least one sector (Track 0, Sector 0) which
 can be read by the program in the PROM on the disk controller card.
 Second the code that reads the protected disk must be on the disk.
 This means that it is possible to trace the boot process by disassembling
 the code involved in each step of that process.
 While this can eb a formidable task, it is nevertheless theoretically possible
 to break all protection schemes with this method.
 The main defense against use of this method is to make it require a great
 deal of time to accomplish.
 This could primarily be done in several ways.
\layout Standard

One way is to write the code in separate modules or layers.
 Each layer typically decodes the next layer and recodes the previous layer.
 It is also vital to verify critical layers to ensure thay have not been
 patched.
 A second way is to use an interpreted language which introduces an additional
 level of obscurity and a considerable amount of additional code.
 Neither of these can be entirely effective, but are important nevertheless.
\layout Chapter

Nibbilizing
\layout Standard

This appendix covers in great detail the encoding of data (nibblizing) on
 the Disk II family of drives (Disk II, IIe, and IIc).
 Some of this discussion may relate in a general way to encoding techniques
 on other computers made by Apple.
 But the details relate specifically to ProDOS and its device driver for
 a Disk II (or equivalent).
 
\layout Standard

Before starting an explanations of encoding, it is fair to ask why data
 must be encoded at all? It seems reasonable that the data could simply
 be written to the disk as it is without any encoding.
 The reason this can't be done involves the hardware itself.
 Apple's design of the original Disk II was innovative and used a unique
 method of recording the data.
 While this allowed Apple to produce an excellent product, it did require
 some additional work to be done in software.
 It is not possible to read all 256 possible byte values from a diskette.
 This was clearly not an insurmountable problem, but it did require that
 the data stored on disk be restricted to bytes with certain characteristics.
\layout Section*

Encoding Techniques
\layout Standard

Three different techniques have been used.
 The first one, which is currently used in Address Fields, involves writing
 a data byte as two 
\series bold 
disk bytes
\series default 
, one containing the odd bits, and the other containing the even bits.
 This method is often referred to as 
\begin_inset Quotes eld
\end_inset 


\series bold 
4 and 4
\series default 

\begin_inset Quotes erd
\end_inset 

 encoding, depicting the fact that an 8-bit value is split into two 4-bit
 pieces.
 It requires two disk bytes for each byte of data, thus 512 disk bytes would
 be needed for each 256-byte sector of data.
\layout Standard


\begin_inset Float figure
wide false
collapsed true

\layout Caption


\begin_inset Quotes eld
\end_inset 

4 and 4
\begin_inset Quotes erd
\end_inset 

 Encoding Technique
\layout Standard

DATA BYTE 
\end_inset 


\layout Standard


\begin_inset Float figure
wide false
collapsed true

\layout Caption


\begin_inset Quotes eld
\end_inset 

4 and 4
\begin_inset Quotes erd
\end_inset 

 Decoding Technique
\end_inset 


\layout Standard


\begin_inset Float figure
wide false
collapsed true

\layout Caption

Valid 6-Bit Bytes
\end_inset 


\layout Standard


\begin_inset Float figure
wide false
collapsed true

\layout Caption


\begin_inset Quotes eld
\end_inset 

6 and 2
\begin_inset Quotes erd
\end_inset 

 Write Translation Table
\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="16" columns="4">
<features islongtable="true">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
00 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 96
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
40 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 B4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
80 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 D6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
C0 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 ED
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
04 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 97
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
44 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 B5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
84 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 D7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
C4 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 EE
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
08 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 9A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
48 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 B6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
88 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 D9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
C8 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 EF
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
0C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 9B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
4C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 B7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
8C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 DA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
CC 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 F2
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
10 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 9D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
50 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 B9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
90 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 DB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
D0 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 F3
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
14 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 9E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
54 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 BA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
94 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 DC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
D4 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 F4
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
18 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 9F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
58 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 BB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
98 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 DD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
D8 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 F5
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
1C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 A6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
5C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 BC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
9C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 DE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
DC 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 F6
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
20 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 A7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
60 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 BD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
A0 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 DF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
E0 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 F7
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
24 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 AB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
64 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 BE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
A4 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 E5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
E4 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 F9
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
28 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 AC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
68 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 BF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
A8 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 E6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
EB 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 FA
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
2C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 AD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
6C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 CB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
AC 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 E7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
EC 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 FB
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
30 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 AE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
70 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 CD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
B0 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 E9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
F0 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 FC
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
34 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 AF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
74 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 CE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
B4 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 EA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
F4 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 FD
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
38 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 B2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
78 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 CF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
B8 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 EB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
F8 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 FE
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
3C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 B3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
7C 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 D3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
BC 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 EC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
FC 
\begin_inset Formula $\Longleftrightarrow$
\end_inset 

 FF
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\end_inset 


\layout Chapter

The Logic State Sequencer
\layout Standard

Because there is such a close relationship between the disk hardware and
 the software that controls it, it seems appropriate to examine the firmware
 that directly responds to the software, that is, the Logic State Sequencer
 ROM.
 The code on this ROM actually controls the reading and writing of bits.
 While the information presented here should enable one to understand the
 process involved, it is nevertheless intended to be an overview and not
 a complete analysis.
\layout Standard

The Disk II family of drives uses a unique method of storing data on a disk.
 They use a method named GCR (Group Code Recording) unlike most current
 disk drives that use FM (Frequency Modulation) or MFM (Modified Frequency
 Modulation).
 This enables writing data bytes without the use of clock bits and thereby
 greatly increases the amount of data that can be stored on a given track.
 Apple has recently put the Disk Controller Card into a Custom Integrated
 Circuit.
 Versions of the Disk Drive Controller Unit (IWM --- Integrated Woz/Wendell
 Machine) are no used on the Apple IIe and the Macintosh.
 The following discussion is based on the original controller card, but
 should apply functionally to the new chip as well.
\layout Section*

Logic State Sequencer ROM
\layout Standard

The Logic State Sequencer is a 256-byte ROM on the disk controller card.
 The 
\begin_inset Quotes eld
\end_inset 

program
\begin_inset Quotes erd
\end_inset 

 stored there controls the data register, providing the actual means of
 reading and writing bits.
 The program on the ROM is unlike traditional software such as BASIC or
 machine language --- it is a simple language with only six different functions
 or commands available.
 What makes it different and difficult to follow is how the flow of the
 program is determined.
 Traditional languages typically execute instructions in sequence until
 they encounter a control statement (such as GOTO or GOSUB) that indicates
 a new location.
 In the state machine, each byte is both a command (operating on the data
 register) and a control statement.
 What is unique is that the location of the next command is only partially
 determined by the control statement.
\layout Standard

The program flow is additionally controlled by four external inputs, two
 provided by software and two provided by hardware.
 The software inputs are controlled by four memory locations, $C08C through
 $C08F.
 The locations are slor dependent (adding the slot number times 16 to the
 base address gives the appropriate address).
 Because of the nature of the state machine (timing), this is normally done
 with the X-register containing the offset (i.e.
 the slot number times 16).
 The two inputs provided by the hardware are the presence or absence of
 a read pulse and the status of the high bit of the data register.
\layout Standard

Each of the 256 bytes in the ROM is an available location that can be accessed
 with the appropriate control statements.
 Eight bits are needed to indicate all of the locations.
 Four of these bits are provided by each byte in the ROM and the remaining
 four bits are provided by the external inputs described earlier.
 The four bits in the control statement contained in each byte of the ROM
 indicate what will be called for the next 
\begin_inset Quotes eld
\end_inset 

sequence,
\begin_inset Quotes erd
\end_inset 

 and the four bits from the external inputs indicate what will be called
 for the next 
\begin_inset Quotes eld
\end_inset 

state.
\begin_inset Quotes erd
\end_inset 

 Figure D.1 depicts the ROM as a two dimensional array, with 
\begin_inset Quotes eld
\end_inset 

sequence
\begin_inset Quotes erd
\end_inset 

 and 
\begin_inset Quotes eld
\end_inset 

state
\begin_inset Quotes erd
\end_inset 

 each providing one dimension of the address of a given element.
 
\layout Comment

Insert figure here
\layout Standard

The 16 sequences are simply the hex numbers 0 through F, and are supplied
 by the high order nibble of each byte in the ROM.
 The low order nibble is the command number.
 For example, the byte 
\begin_inset Quotes eld
\end_inset 

18
\begin_inset Quotes erd
\end_inset 

 would execute command number 8 (no operation) and proceed to sequence 1.
 Each byte or instruction takes two cycles to execute, but the state machine
 is running twice as fast as the 6502, so only one 6502 cycle per state
 machine instruction is required.
 The six available commands that control the data register are listed in
 Table D.1.
\layout Standard


\begin_inset Float table
wide false
collapsed false

\layout Caption

Commands Which Control The Data Register
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="9" columns="4">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Data Register
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Code
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Operation
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Before
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

After
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Clear
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
XXXXXXXX
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
00000000
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No operation
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
ABCDEFGH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
ABCDEFGH
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Shift left (bringing in a 0)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
ABCDEFGH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
BCDEFGH0
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Shift right (WRITE protected)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
ABCDEFGH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
11111111
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

(not WRITE protected)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
ABCDEFGH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
0ABCDEFG
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Load
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
XXXXXXXX
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
YYYYYYYY
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Shift left (bringing in a 1)
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
ABCDEFGH
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard


\family typewriter 
BCDEFGH1
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\end_inset 


\layout Standard

The logic of the state machine is difficult to follow even though relatively
 few operations are carried out on the data register.
 Figure D.2 graphically illustrates the logic.
\layout Comment

Insert figure here
\layout Standard

To make the task easier, the contents of the ROM will be analyzed in four
 parts, corresponding to the four software states.
 As mentioned above, the locations $C08C--C08F (plus the slot number times
 16) partially controls the state machine.
 These four locations control two switches, Q6 and Q7.
 If one of these addresses is accessed, the appropriate switch will be set
 as indicated in Table D.2.
\layout Standard


\begin_inset Float table
wide false
collapsed false

\layout Caption

State Switches
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="6" columns="3">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Switch
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Address
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Q7
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Off
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

---
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

On
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

---
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

---
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Off
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C08F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

---
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

On
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\end_inset 


\layout Standard

The first state examined will be with switch Q6 on and Q7 off.
 This can be described as checking the write protect switch and initializing
 the state machine for writing.
 Table D.3 lists the contents of this portion of the state machine ROM.
 All the instructions are identical ($0A), each shifting the data register
 right (command A), bringin in the status of the write protect sitch, and
 then going to sequence 0.
 This readies the hardware for writing since it is necessary to be in sequence
 0 in order to write correctly.
\layout Standard


\begin_inset Float table
wide false
collapsed true

\layout Caption

State: Q6 On And Q7 Off (Check Write Protect)
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="18" columns="5">
<features>
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

High Bit Clear
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

High Bit Set
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Sequence
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Pulse
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No Pulse
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Pulse
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

No Pulse
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

0A
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\end_inset 


\layout Standard

The next state examined is with switches Q6 and Q7 off (see Table D.4).
 This reads data from the disk, shifting in the appropriate bits as 
\begin_inset Quotes eld
\end_inset 

Pulse
\begin_inset Quotes erd
\end_inset 

 or 
\begin_inset Quotes eld
\end_inset 

No Pulse
\begin_inset Quotes erd
\end_inset 

 is detected by the hardware.
 Additionally, once the high bit of the data register is set, the data is
 retained until a read pulse is detected (0 bits or 
\begin_inset Quotes eld
\end_inset 

No Pulses
\begin_inset Quotes erd
\end_inset 

 are ignored).
\layout Standard

When switch Q7 is turned on (write mode), the presence or absence of a read
 pulse is ignored.
 For this reason, the ROM contains two identical 64-byte sections.
 Therefore, Table D.5 is presented in slightly different format.
 Only two operations are carried out, loading the data register from the
 data bus, and shifting the data out one bit at time, so that it can be
 written to the disk.
 Note that only sequence 2 and A carry out any action on the data register.
\layout Standard


\begin_inset Float table
wide false
collapsed true

\layout Caption

State: Q6 Off And Q7 Off (Read)
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="18" columns="5">
<features>
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

High Bit Clear
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

High Bit Set
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Sequence
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Pulse
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No Pulse
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Pulse
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

No Pulse
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

28
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

88
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

88
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

29
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

A8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

B8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

59
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

C8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

A0
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

E8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

FD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

FD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

F8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

F8
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

E0
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\end_inset 


\layout Standard


\begin_inset Float table
wide false
collapsed true

\layout Caption

State: Q7 On (Write)
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="18" columns="5">
<features>
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Q6 Off
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Q6 On
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Sequence
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Clear
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Set
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Clear
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Set
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

28
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

28
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

28
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

28
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

39
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

39
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

3B
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

88
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

88
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

A8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

BB
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

C8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

E8
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

F8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

F8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

F8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

F8
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

88
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

88
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\end_inset 


\layout Standard

This discussion should provide a general understanding of the Logic State
 Sequencer.
 For a comprehensive look at the disk hardware, an excellent source is 
\emph on 
Understanding the Apple II
\emph default 
 by Jim Sather, published by Quality Software.
\layout Section*

Sequencer Example
\layout Standard

Table D.6 follows the state machine through a number of steps during the
 read process.
 It is assumed that a $D5 has just been read and is now in the data register.
 The state machine is executing the instruction at column 4 and sequence
 2 of Table D.4 and will continue to loop until a read pulse is detected.
 The instruction being executed is a $28 which performs a NOP (8 --- No
 OPeration) and remains at sequence 2.
 In our example, the next byte to read is an $AA (only the first 5 bits
 are shown in Table D.6).
 If the reader can understand this example, it should be possible to construct
 a similar table for any other read or write example.
 Note that the column number is controlled by the contents of the MSB of
 the data register and the presence or absence of a Read Pulse.
\layout Standard


\begin_inset Float table
wide false
collapsed false

\layout Caption

A Sequence Example
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="40" columns="8">
<features islongtable="true">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" width="0pt">
<column alignment="center" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Data
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Read
\end_inset 
</cell>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Refer To Table D.4
\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Next
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Step
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Register
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Pulse
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Column
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Sequence
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Byte
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Sequence
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Action*
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

28
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Yes
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

88
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

10
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No*
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

12
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

13
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

14
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

11010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

CLR
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

15
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000000
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SL1
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

16
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000001
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

59
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SL0
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

17
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Yes
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

19
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

20
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

21
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SL1
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

22
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

23
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

24
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

25
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

26
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No*
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

78
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

27
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

7
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

77
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

28
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

98
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

29
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00000101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

29
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SL0
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

30
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

31
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

48
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

32
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

4
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

58
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

33
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

5
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

68
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

34
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Yes
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

6
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

35
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

36
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

37
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00001010
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

1
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2D
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SL1
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

00010101
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

No
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

2
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

38
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

3
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

NOP
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\end_inset 


\layout Chapter

ProDOS, DOS, And SOS
\layout Standard

This appendix is intended to assist the reader ho si moving programs and
 data between ProDOS, DOS and SOS operating systems on Apple IIs and Apple
 IIIs.
 It is divided into two sections.
 One deals with the possible problems one might encounter moving from DOS
 3.3 or DOS 3.2 to ProDOS with a particular emphasis on the differences in
 BASIC programming on the two systems.
 The other section discusses the areas in which ProDOS and SOS are alike,
 and explains ways in which programs may be written which will run with
 minimal modifications on either system.
\layout Section*

Converting from DOS to ProDOS
\layout Standard

The following is a list of potential problem areas when converting programs
 from DOS 3.3 or DOS 3.2 to ProDOS:
\layout Enumerate

Apple DOS allows 30-character file names with embedded special characters
 and blanks.
 ProDOS restricts file names to 15 characters.
 The first must be a letter, and the rest may be letters, numbers or periods.
 No blanks or other special characters (other than period) may be in a ProDOS
 file name.
\layout Enumerate

The following DOS commands are not supported by ProDOS: MON, NOMON, MAXFILES,
 INT, FP, and INIT.
 MON and NOMON may be entered under ProDOS, but they have no effect.
\layout Enumerate

Under ProDOS, the VERIFY command does not read through a file to check it
 for I/O errors.
 It only verified the file's existence.
\layout Enumerate

Although the V keyword is syntactically permitted on ProDOS file commands,
 it is not supported.
 Programs which depend upon volume numbers must be changed to use volume
 names instead.
\layout Enumerate

When the APPEND command is used on a 
\begin_inset Quotes eld
\end_inset 

sparse
\begin_inset Quotes erd
\end_inset 

 random file, it will position at the EOF position, not the first 
\begin_inset Quotes eld
\end_inset 

hole.
\begin_inset Quotes erd
\end_inset 


\layout Enumerate

CHAINing between BASIC programs is now supported with a command rather than
 by BRUNing a separate file.
\layout Enumerate

The most significant bit of each byte is 
\series bold 
off
\series default 
 in text files under ProDOS.
 It is 
\series bold 
on
\series default 
 in DOS text files.
 For example, a blank in DOS was stored as $A0.
 Under ProDOS, it is stored as $20.
\layout Enumerate

Under DOS, many programs use statements of the form: 
\newline 
PRINT CHR$(13);CHR$(4);"dos command to be executed"
\newline 
This will not work under ProDOS.
 The CHR$(4) must be the first item in the PRINT list.
 The CHR$(4) need not be the first thing on an output line, just the first
 thing in a PRINT statement.
\layout Enumerate

DOS supports up to 16 simultaneously open files.
 ProDOS allows only 8.
\layout Enumerate

Less memory is available to BASIC programmers under ProDOS.
 With no files open, the amount of memory available is equivalent to that
 available under DOS with three open files.
 Each open file uses 1024 bytes under ProDOS.
 Under DOS, only 595 bytes are used per file.
\layout Enumerate

HIMEM should always be set to point to an even page boundary under ProDOS
 (a multiple of 256).
\layout Enumerate

ProDOS does not support Integer BASIC programs.
\layout Enumerate

The 
\begin_inset Quotes eld
\end_inset 

HELLO
\begin_inset Quotes erd
\end_inset 

 file name must be 
\begin_inset Quotes eld
\end_inset 

STARTUP
\begin_inset Quotes erd
\end_inset 

 on ProDOS.
 DOS allows the user to specify any name for the first file run.
\layout Enumerate

All low level assembly language interfaces are drastically different under
 ProDOS.
 The MLI must be called to perform disk access wherever the DOS File Manager
 and RWTS were used in a program.
 There is no exact equivalent to RWTS in ProDOS, so programs which access
 the disk by track and sector must be converted to use the READ and WRITE
 BLOCK MLI calls.
\layout Section*

Writing Programs For ProDOS And SOS
\layout Standard

When writing programs which are to run on either ProDOS or SOS, consider
 the following:
\layout Enumerate

ProDOS and SOS volumes are identical in format.
 Either system can read the other's diskettes.
\layout Enumerate

Block 1 on a ProDOS volume contains the SOS boot loader.
 This program is loaded instead of Block 0 hen booted on an Apple III.
 It searches the directory for SOS.KERNEL and loads it instead of ProDOS.
 This means that a diskette can be constructed which will boot on either
 an Apple II or an Apple III.
\layout Enumerate

SOS allows up to 16 concurrently open files in BASIC.
 ProDOS only allows 8.
\layout Enumerate

SOS uses different file types than ProDOS.
 A ProDOS CATALOG on a SOS diskette will produce hex codes for file type
 but this is normal.
 Table E.1 shows all ProDOS and SOS file types currently defined.
\layout Enumerate

SOS memory management allows programs to allocate and free segments of memory
 by making system calls.
 Under ProDOS, programs must manage memory themselves by marking pages free
 or in use in the System Global Page.
\layout Enumerate

SOS system calls are, for the most part, very similar to ProDOS MLI calls.
 The areas in which differences occur are: ProDOS filing calls apply only
 to block devices (disks), but SOS filing calls apply to all devices; GET_FILE_I
NFO under SOS gives the EOF position of a file, whereas ProDOS's GET_FILE_INFO
 does not; SOS's SET_MARK and SET_EOF positions may be given as relative
 to the current position, but ProDOS requires them to be absolute.
\layout Enumerate

SOS interrupts are prioritized and managed by device drivers; however, ProDOS
 interrupts are polled sequentially and are managed by interrupt handlers
 installed using MLI calls.
\layout Standard


\begin_inset Float table
wide false
collapsed false

\layout Caption

ProDOS and SOS File Types
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
{
\backslash 
centering
\end_inset 


\layout Standard


\begin_inset  Tabular
<lyxtabular version="3" rows="34" columns="4">
<features>
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" width="0pt">
<column alignment="left" valignment="top" leftline="true" rightline="true" width="0pt">
<row topline="true" bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

Hex Type
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS Name
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

OS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Meaning
\end_inset 
</cell>
</row>
<row topline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$00
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

both
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Typeless file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$01
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

both
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Bad blocks file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$02
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PASCAL code file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$03
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PASCAL text file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$04
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

TXT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

both
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ASCII text file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$05
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

PASCAL text file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$06
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BIN
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

both
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Binary File
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$07
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Font file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$08
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Graphics screen file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$09
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Business BASIC program file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Business BASIC data file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Word processor file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0C
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS System file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0D--$0E
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS reserved for future use
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$0F
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

DIR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

both
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Directory file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$10
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

RPS data file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$11
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

RPS index file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$12-$18
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS reserved for future use
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$19
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ADB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AppleWorks data base file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1A
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

AWP
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AppleWorks word processing file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1B
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ASP
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

AppleWorks spreadsheet file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$1C-$BF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

SOS reserved for future use
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$C0-$EE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS reserved for future use
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$EF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

PAS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS PASCAL file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$F0
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

CMD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Added command file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$F1-$F8
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS user defined file types
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$F9
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS reserved for future use
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FA
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

INT
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Integer BASIC program file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FB
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

IVR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Integer BASIC variables file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FC
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

BAS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Applesoft BASIC program file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FD
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

VAR
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

Applesoft BASIC variables file
\end_inset 
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FE
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

REL
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

EDASM relocatable object module file
\end_inset 
</cell>
</row>
<row bottomline="true">
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

$FF
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

SYS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\layout Standard

ProDOS
\end_inset 
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\layout Standard

System file
\end_inset 
</cell>
</row>
</lyxtabular>

\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard
}
\end_inset 


\end_inset 


\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
medskip
\layout Standard

\backslash 
renewcommand{
\backslash 
chaptermark}[1]{
\backslash 
markboth{GLOSSARY}{GLOSSARY}}
\layout Standard

\backslash 
renewcommand{
\backslash 
sectionmark}[1]{{}{}}
\end_inset 


\layout Chapter

Glossary
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
begin{multicols}{2}
\end_inset 


\layout Description

access\SpecialChar ~
time.
 The time required to locate and read or write data on a direct access storage
 device, such as a diskette drive.
\layout Description

address.
 The numeric location of a piece of data in memory, usually given as a hexadecim
al number from $0000 to $FFFF (65,535 decimal).
 A disk address is the location of a data sector expressed in terms of its
 track and sector numbers.
\layout Description

algorithm.
 A sequence of steps which may be performed by a program or other process,
 which will produce a given result.
\layout Description

alphanumeric.
 An alphabetic character (A--Z) or a numeric digit (0--9).
 In the past, the term referred to the class of all characters and digits.
\layout Description

analog.
 Having a value which is continuous, such as a voltage or electrical resistance,
 as opposed to digital.
\layout Description

AND.
 The logical process of determining whether two bits are both 
\begin_inset Quotes eld
\end_inset 

1
\begin_inset Quotes erd
\end_inset 

s.
 0 AND 1 results in 0 (false).
 1 AND 1 results in 1 (true).
\layout Description

arm.
 The portion of a disk drive which suspends the read/write head over the
 disk's surface.
 The arm can be moved radially to allow access to different tracks.
\layout Description

ASCII.
 American Standard Code for Information Interchange.
 A hexadecimal to character conversion code assignment, such that the 256
 possible values of a single byte may each represent an alphabetic, numeric,
 special, or control character.
 ASCII is used when interfacing to peripherals, such as keyboards, printers,
 or video text displays.
\layout Description

assembly\SpecialChar ~
language.
 Also known as machine language.
 The native programming language of the individual computer.
 Assembly language is oriented to the machine, and is not humanized as is
 BASIC, PASCAL, or FORTRAN.
 An assembler is used to convert assembly language statements to an executable
 program.
\layout Description

bank\SpecialChar ~
switched\SpecialChar ~
memory.
 Also called the language card.
 An additional 16K of memory which may only be accessed by 
\begin_inset Quotes eld
\end_inset 

throwing
\begin_inset Quotes erd
\end_inset 

 hardware switches to cause portions of the bank switched memory to temporarily
 replace the Monitor ROM memory in the machine.
 This is necessary because an Apple can only address 64K, and all addresses
 are already used with 48K, 4K of I/O and 12K of Monitor ROM.
\layout Description

base.
 The number system in use.
 Decimal is base 10, since each digit represents a power of 10 (1, 10, 10,
 \SpecialChar \ldots{}
).
 Hexadecimal is base 16 (1, 16, 256, \SpecialChar \ldots{}
).
 Binary is base 2 (1, 2, 4, 8, \SpecialChar \ldots{}
).
\layout Description

BI.
 BASIC Interpreter.
 Also called the BASIC System Program.
 The BI accepts user commands such as CATALOG and LOAD, and translates them
 into calls to the ProDOS Machine Language Interface (MLI).
\layout Description

binary.
 A number system based upon powers of 2.
 Only the digits 0 and 1 are used.
 For example, 101 is binary is 1 units digit, 0 twos, and 1 fours, or 5
 in decimal.
\layout Description

bit\SpecialChar ~
cell.
 The space on a diskette which passes beneath the read/write head in a 4-microse
cond interval.
 A bit cell contains a signal which represents the value of a single binary
 0 or 1 (bit).
\layout Description

bit\SpecialChar ~
map.
 A table where each binary bit represents the allocation of a unit of storage.
 ProDOS uses bit maps to keep track of memory use (System Bit Map) and of
 disk use (Volume Bit Map).
\layout Description

bit\SpecialChar ~
slip\SpecialChar ~
marks.
 The epilogue of a disk field, used to double check that the disk head is
 still in read sync and the sector has not been damaged.
\layout Description

block.
 An arbitrary unit of disk space composed of two sectors or 512 bytes.
 ProDOS reads and writes a block at a time to improve performance and to
 allow support for larger devices.
\layout Description

BRK/Break.
 An assembly language instruction which can be used to force an interrupt
 and immediate suspension of execution of a program.
\layout Description

buffer.
 An area of memory used to temporarily hold data as it is being transferred
 to or from a peripheral, such as a disk drive.
\layout Description

carry\SpecialChar ~
flag.
 A 6502 processor flag which indicates that a previous addition resulted
 in a carry.
 Also, used as an error indicator by many system programs.
\layout Description

catalog.
 A directory of the files on a diskette.
 See directory.
\layout Description

chain.
 A linked list of data elements.
 Data is chained if its elements need not be contiguous in storage and each
 element can be found from its predecessor via an address or block pointer.
\layout Description

checksum/CRC.
 A method for verifying that data has not been damaged.
 When data is written, the sum of all its constituent bytes is stored with
 it.
 If, when the data is later read, its sum no longer matches the checksum,
 it has been damaged.
\layout Description

clobbered.
 Damaged or destroyed.
 A clobbered sector is one which has been overwritten such that it is unrecovera
ble.
\layout Description

coldstart.
 A restart of a program which reinitializes all of its parameters, usually
 erasing any work which was in progress at the the time of the restart.
\layout Description

contiguous.
 Physically next to.
 Two bytes are contiguous if they are adjoining each other in memory or
 on disk.
\layout Description

control\SpecialChar ~
block.
 A collection of data which is used by the operating system to manage resources.
 Examples of control blocks used by ProDOS are the Volume Control Block
 (VCB) or a Volume Directory Header.
\layout Description

control\SpecialChar ~
character.
 A special ASCII code which is used to perform a unique function on a peripheral
, but does not generate a printable character.
 Carriage return, line feed, form feed, and a bell are all control characters.
\layout Description

controller\SpecialChar ~
card.
 A hardware circuit board which is plugged into an Apple connector which
 allows communication with a peripheral device, such as a disk or printer.
 A controller card usually contains a small driver program in ROM.
\layout Description

CSWL.
 A vector in zero page, through which output data is passed for display
 on the CRT or for printing.
\layout Description

cycle.
 The smallest unit of time within the central processor of the computer.
 Each machine language instruction requires two or more cycles to complete.
 One cycle on the Apple is about one microsecond (one millionth of a second).
\layout Description

data\SpecialChar ~
type.
 The type of information stored in a byte.
 A byte might contain a printable ASCII character, binary numeric data,
 or a machine language instruction.
\layout Description

decimal.
 A number system based upon powers of 10.
 digits range from 0 to 9.
\layout Description

deferred\SpecialChar ~
commands.
 ProDOS commands which may (or must) be invoked from within an executing
 BASIC program.
 OPEN, APPEND, READ, WRITE, and CLOSE are all examples of deferred commands.
\layout Description

digital.
 Discrete values as opposed to continuous (analog) values.
 Only digital values may be stored in a computer.
 Analog measurements from the real world, such as voltage or the level of
 light outside, must be converted into a numerical value which, of necessity,
 must be 
\begin_inset Quotes eld
\end_inset 

rounded off
\begin_inset Quotes erd
\end_inset 

 to a discrete value.
\layout Description

direct\SpecialChar ~
access.
 Peripheral storage allowing rapid access of any piece of data, regardless
 of its placement on the medium.
 Magnetic tape is generally not considered direct access, since the entire
 tape must be read to locate the last byte.
 A diskette is considered direct access, since the arm may be rapidly moved
 to any track and sector.
\layout Description

directory.
 A catalog of files stored on a diskette.
 The directory must contain each file's name and its location on the disk
 as well as other information regarding the type of data stored there.
 In ProDOS, a directory is a file in itself and one directory can describe
 other subdirectories.
\layout Description

disk\SpecialChar ~
initialization.
 The process which places track formatting information, including sectors
 and gaps, on a blank diskette.
 During diskette initialization, the ProDOS FILER also places a copy of
 the boot loader in Block 0 and creates an empty Volume Directory in Blocks
 2 through 5.
 The Volume Bit Map is also initialized in Block 6.
\layout Description

displacement.
 The distance from the beginning of a block of data to a particular byte
 or field.
 Displacements are usually given beginning with 0, for the first byte, 1
 for the second, etc.
 Also known as an offset.
\layout Description

DOS.
 Also called DOS 3.2 and DOS 3.3.
 An earlier disk operating system for the Apple.
 DOS was designed to support BASIC programming using the Disk II drive only.
 When hard disks became available, Apple introduced ProDOS.
\layout Description

driver.
 A program which provides an input stream to another program or an output
 device.
 A printer driver accepts input from a user program in the form of lines
 to be printed, and sends them to the printer.
\layout Description

dump.
 An unformatted or partially formatted listing of the contents of memory
 or a diskette in hexadecimal.
 Used for diagnostic purposes.
\layout Description

encode.
 To translate data from one form to nother for any of a number of reasons.
 In ProDOS, data is encoded from 8-bit bytes to 6-bit bytes for storage.
\layout Description

entry\SpecialChar ~
point\SpecialChar ~
(EPA).
 The entry point address is the location within a program where execution
 is to start.
 This is not necessarily the same as the load point (or lowest memory address
 of the program).
 
\layout Description

EOF.
 End Of File.
 A 3-byte number ranging from 0 to 16,777,216 (16 megabytes), which represents
 the offset to the end of the file.
 If the file is sequential (contains no 
\begin_inset Quotes eld
\end_inset 

holes
\begin_inset Quotes erd
\end_inset 

), the EOF is also the length of the file in bytes.
\layout Description

epilogue.
 The last three bytes of a field on a track.
 These unique bytes are used to insure the integrity of the data which precedes
 them.
\layout Description

Exclusive\SpecialChar ~
OR.
 A logical operation which compares two bits to determine if they are different.
 1 EOR 0 results in 1.
 1 EOR 1 results in 0.
\layout Description

field.
 A group of contiguous bytes forming a single piece of data, such as a person's
 name, his age, or his social security number.
 In disk formatting, a group of bytes surrounded by gaps.
\layout Description

file.
 A named collection of data on a diskette or other mass storage medium.
 Files can contain data or programs.
\layout Description

file\SpecialChar ~
buffers.
 In Apple ProDOS, a pair of 512-byte buffers used by the BASIC interpreter
 to manage one open file.
 Included are a buffer containing the block image of the current index block
 and one containing the image of the current data block.
 File buffers are allocated by the BI as needed by moving Applesoft's HIMEM
 pointer down in memory.
 
\layout Description

file\SpecialChar ~
descriptive\SpecialChar ~
entry.
 A single entry in a disk directory which describes one file.
 Included are the name of the file, its data type, its length, its access
 restrictions, its creation date, its location on the diskette, etc.
\layout Description

file\SpecialChar ~
type.
 The type of data held by a file.
 Valid ProDOS file types include Binary (BIN), Applesoft (BAS), Text (TXT),
 and System (SYS) files.
 ProDOS supports up to 256 different file types.
\layout Description

firmware.
 A middle ground between hardware and software.
 Usually used to describe micro-code or programs which have been stored
 in read-only memory (ROM).
\layout Description

gap.
 The space between fields of data on a diskette.
 Gaps on an Apple diskette contain sync bytes.
\layout Description

garbage\SpecialChar ~
collection.
 The process of combining many small embedded free spaces into one large
 area.
 For example, Applesoft performs garbage collection on its string storage
 to recover memory allocated to strings which have been deleted.
\layout Description

Global\SpecialChar ~
Page.
 A 256-byte area of memory set aside by ProDOS to contain system variables
 of general interest.
 Two Global Pages are currently defined: the System Global Page at $BF00;
 and the BI Global Page at $BE00.
 The structure of the Global Pages is rigidly defined, allowing external
 programs to communicate with ProDOS without depending upon release dependent
 locations.
 See also vectors.
\layout Description

hard\SpecialChar ~
error.
 An unrecoverable Input/Output error.
 The data stored in the disk sector can never be successfully read again.
\layout Description

head.
 The read/write head on a diskette drive.
 A magnetic pickup, similar in nature to the head on a stereo tapedeck,
 which rest on the spinning surface of the diskette.
\layout Description

hexadecimal/HEX.
 A numeric system based on powers of 16.
 Valid hex digits range from 0 to 9 and A to F, where A is 10, B is 11,
 \SpecialChar \ldots{}
 F is 15.
 Standard Apple practice is to indicate a number as hexadecimal by preceding
 it with a dollar sign.
 $B30 is 11-256s plus 3-16s plus 0-1s, or 2864 in decimal.
 Two hexadecimal digits can be used to represent the contents of one byte.
 Hexadecimal is used with computers because it easily converts to binary.
\layout Description

high\SpecialChar ~
memory.
 The memory locations which have high address values.
 $FFFF is the highest memory location.
 Also called the 
\begin_inset Quotes eld
\end_inset 

top
\begin_inset Quotes erd
\end_inset 

 of memory.
\layout Description

HIMEM.
 Applesoft's zero-page address which identifies the first byte past the
 available memory which can be used to store BASIC programs and their variables.
\layout Description

immediate\SpecialChar ~
command.
 A ProDOS command which may be entered at any time, especially when ProDOS
 is waiting for a command from the keyboard.
 The opposite of deferred commands.
\layout Description

index.
 A displacement into a table or block of storage.
 
\layout Description

index\SpecialChar ~
block.
 A block containing a table of block numbers describing the order and location
 of the blocks of data within a file.
 A sapling file has one index block describing up to 256 data blocks.
 A tree file has a master index block which points to other index blocks,
 which in turn point to the data blocks in the file.
\layout Description

instruction.
 A single step to be performed in an assembly language or machine language
 program.
 Instructions perform such operations as addition, subtraction, store, or
 load.
 
\layout Description

integer.
 A 
\begin_inset Quotes eld
\end_inset 

whole
\begin_inset Quotes erd
\end_inset 

 number with no fraction associated with it, as opposed to floating point.
\layout Description

intercept.
 A program which logically places itself in the execution path of another
 program, or pair of programs.
 A video intercept is sued to redirect program output from the screen to
 a printer, for example.
\layout Description

interleave.
 The practice of selecting the order of sectors on a diskette track to minimize
 access time due to rotational delay.
 Also called 
\begin_inset Quotes eld
\end_inset 

skewing
\begin_inset Quotes erd
\end_inset 

 or interlacing.
\layout Description

interpreter.
 A program which translates user written commands or program statements
 directly into their intended function.
 Applesoft is an interpreter.
 The ProDOS BASIC Interpreter translates ProDOS commands into functions
 such as loading, saving, reading or writing files.
 Another name for ProDOS interpreters is System Programs.
\layout Description

interrupt.
 A hardware signal which causes the computer to halt execution of a program
 and enter a special handler routine.
 Interrupts are used to service real-time clock time-outs, BRK instructions,
 and RESET.
\layout Description

I/O\SpecialChar ~
(Input/Output)\SpecialChar ~
error.
 An error which occurs during transmission of data to or from a peripheral
 device, such as a disk or cassette tape.
\layout Description

JMP.
 A 6502 assembly language instruction which causes the computer to begin
 executing instructions at a different location in memory.
 Similar to a GOTO statement in BASIC.
\layout Description

JSR.
 A 6502 assembly language instruction which causes the computer to 
\begin_inset Quotes eld
\end_inset 

call
\begin_inset Quotes erd
\end_inset 

 a subroutine.
 Similar to a GOSUB statement in BASIC
\layout Description

K.
 A unit of measurement, usually applied to bytes.
 1 K bytes is equivalent to 1024 bytes.
\layout Description

Kernel.
 That part of ProDOS which provides the basic operating system support functions.
 The Kernel resides in the Language Card or bank switched memory and consists
 of the MLI, interrupt handler, and diskette and calender/clock device drivers.
\layout Description

key\SpecialChar ~
block.
 The first block of a ProDOS file.
\layout Description

KSWL.
 A vector in zero page through which input data is passed from the keyboard
 or a remote terminal.
\layout Description

label.
 A name associated with a location in a program or in memory.
 Labels are used in assembly language much like statement numbers are used
 in BASIC.
 
\layout Description

language\SpecialChar ~
card.
 An additional 16K of RAM added to an Apple II or Apple II Plus using a
 card in slot 0.
 The card gets its name from its original use with the Apple UCSD PASCAL
 system and for loading other versions of BASIC.
 Apple IIe's have this additional memory built in.
 See also bank switched memory.
\layout Description

latch.
 A component into which the Input/Output hardware can store a byte value,
 which will hold that value until the central processor has time to read
 it (or vice versa).
\layout Description

link.
 An address or block pointer in an element of a linked chain of data or
 buffers.
\layout Description

list.
 A one dimensional sequential array of data items.
\layout Description

load\SpecialChar ~
point\SpecialChar ~
(LP).
 The lowest address of a loaded assembly language program --- the first
 byte loaded.
 Not necessarily the same as the entry point address (EPA).
\layout Description

locked.
 A file is locked if it is restricted from certain types of access --- usually
 one which is read only.
 ProDOS provides control over file access through the use of directory entry
 bits.
\layout Description

logical.
 A form of arithmetic which separates with binary 
\begin_inset Quotes eld
\end_inset 

truth
\begin_inset Quotes erd
\end_inset 

 or 
\begin_inset Quotes eld
\end_inset 

false
\begin_inset Quotes erd
\end_inset 

, 1 or 0.
 AND, OR, NAND, NOT, and Exclusive OR are all logical operations.
\layout Description

LOMEM.
 Applesoft's zero-page address which identifies the first byte of available
 memory which can be used to store BASIC programs and their variables.
\layout Description

loop.
 A programming construction in which a group of instructions or statements
 are repeatedly executed.
\layout Description

low\SpecialChar ~
memory.
 The memory locations with the lowest addresses.
 $0000 is the lowest memory location.
 Also called the 
\begin_inset Quotes eld
\end_inset 

bottom
\begin_inset Quotes erd
\end_inset 

 of memory.
\layout Description

LSB/Lo\SpecialChar ~
order.
 Least Significant Bit or Least Significant Byte.
 The 1s bit in a byte or the second pair of hexadecimal digits forming an
 address.
 In the address $8030, $30 is the Lo order part of the address.
\layout Description

mark.
 A 3-byte 
\begin_inset Quotes eld
\end_inset 

byte number
\begin_inset Quotes erd
\end_inset 

 or position within a ProDOS file.
 When a file is being read by the MLI, a current mark is maintained as well
 as the EOF mark.
 See also EOF.
\layout Description

microsecond.
 A millionth of a second.
 Equivalent to one cycle of the Apple II central processor.
 Also written as 
\begin_inset Quotes eld
\end_inset 


\begin_inset Formula $\mu$
\end_inset 

sec
\begin_inset Quotes erd
\end_inset 


\layout Description

MLI.
 Machine Language Interface.
 The MLI is part of the ProDOS Kernel which resides in the language card
 or bank switched memory.
 The MLI performs such functions as OPENing a file, WRITING to a file, or
 DESTROYing a file.
\layout Description

monitor.
 A machine language program which always resides in the computer and which
 is the first to receive control when the machine is powered up.
 The apple monitor resides in ROM and allows examination and modification
 of memory at a byte level.
\layout Description

MSB/Hi\SpecialChar ~
order.
 Most Significant Bit or Most Significant Byte.
 The 128's bit of a byte (the left-most) or the first pair of a hexadecimal
 address.
 In the byte value $83, the MSB is on (is a 1).
\layout Description

nibble/nybble.
 A portion of a byte, usually 4 bits and represented by a single hexadecimal
 digit.
 $FE contains to nibbles, $F and $E.
\layout Description

null.
 Empty, having no length or value.
 A null string is one which contains no characters.
 The null control character ($00) produces no effect on a printer (also
 called an idle).
\layout Description

object\SpecialChar ~
code.
 A machine language program in binary form, ready to execute.
 Object code is the output of an assembler.
\layout Description

object\SpecialChar ~
module.
 A complete machine language program code in object code form, stored as
 a file on a diskette.
\layout Description

offset.
 The distance from the beginning of a block of data to a particular byte
 or field.
 Offsets are usually given beginning with 0, for the first byte, 1 for the
 second, etc.
 Also known as a displacement.
\layout Description

opcode,\SpecialChar ~
operation\SpecialChar ~
code.
 The three letter mnemonic representing a single assembly language instruction.
 JMP is the opcode for the jump instruction.
\layout Description

operating\SpecialChar ~
system.
 A machine language program which manages the memory and peripherals automatical
ly, simplifying the job of the applications programmer.
\layout Description

OR.
 The logical operation comparing two bits to determine if either of them
 are 1.
 1 OR 1 results in 1 (true).
 1 OR 0 results in 1, 0 OR 0 results in 0 (false).
\layout Description

overhead.
 The space required by the system, either in memory or on the disk, to manage
 either.
 The boot blocks, Volume Directory, and Volume Bit Map are part of a diskette's
 overhead.
\layout Description

page.
 256 bytes od memory which share a common high order address byte.
 Zero page is the first 256 bytes of memory ($0000 through $00FF).
\layout Description

parallel.
 A communication mode which sends all bits in a byte at once, each over
 a separate line or wire.
 Opposite of serial.
\layout Description

parameter\SpecialChar ~
list.
 An area of storage set aside for communication between a calling program
 and a subroutine.
 The parameter list contains input and output variables which will be used
 by the subroutine.
\layout Description

parity.
 A scheme which allows detection of errors in a single data byte, similar
 to checksums but on a bit level rather than a byte level.
 An extra parity bit is attached to each byte which is a sum of the bits
 in the byte.
 Parity is used to detect or correct single bit failures, and when sending
 data over communication lines to detect noise errors.
\layout Description

parse.
 The process of interpreting character string data, such as a command with
 keywords.
\layout Description

patch.
 A small change to the object code of an assembly language program.
 Also called a 
\begin_inset Quotes eld
\end_inset 

zap
\begin_inset Quotes erd
\end_inset 

.
\layout Description

pathname.
 A string describing the path ProDOS must follow to find a file.
 A fully qualified pathname consists of the volume name followed by one
 or more directory names followed by the name of the file itself.
 If a partial pathname is given, a default prefix is attached to it to form
 a complete pathname.
 See also prefix.
\layout Description

physical\SpecialChar ~
record.
 A collection of data corresponding to the smallest unit of storage on a
 peripheral device.
 For disks, a physical record is a sector.
\layout Description

pointer.
 The address or memory location of a block of data or a single data item.
 The address 
\begin_inset Quotes eld
\end_inset 

points
\begin_inset Quotes erd
\end_inset 

 to the data.
 A pointer may also be a block number, such as the pointer to the Volume
 Bit Map in the Volume Directory Header.
\layout Description

prefix.
 A system maintained default character string which is automatically attached
 to file names entered by the user to form a complete pathname.
 See also pathname.
\layout Description

prologue.
 The three bytes at the beginning of a disk field which uniquely identify
 it from any other data on the track.
\layout Description

PROM.
 Programmable Read Only Memory.
 PROMs are usually used on controller cards associated with peripherals
 to hold the driver program which interfaces the device to applications
 programs.
\layout Description

prompt.
 An output string which lets the user know that input is expected.
 An 
\begin_inset Quotes eld
\end_inset 

*
\begin_inset Quotes erd
\end_inset 

 is the prompt character fot the Apple monitor.
\layout Description

pseudo-opcode.
 A special assembly language opcode which does not translate into a machine
 instruction.
 A pseudo-opcode instructs the assembler to perform some function, such
 as skipping a page in an assembly listing or reserving data space in the
 output object code.
\layout Description

RAM.
 Random Access Memory.
 Computer memory which will allow storage and retrieval of values by address.
\layout Description

random\SpecialChar ~
access.
 Direct access.
 The capability to rapidly access any single piece of data on a storage
 medium without having to sequentially read all of its predecessors.
\layout Description

recal.
 Recalibrate the disk arm so that the read/write head is positioned over
 track zero.
 This is done by pulling the arm as far as it will go to the outside of
 the diskette until it hits a stop, producing a 
\begin_inset Quotes eld
\end_inset 

clacking
\begin_inset Quotes erd
\end_inset 

 sound.
\layout Description

reference\SpecialChar ~
number\SpecialChar ~
(REF\SpecialChar ~
NUM).
 An arbitrary number assigned to an open file by the MLI to simplify identificat
ion in later calls.
\layout Description

register.
 A named temporary storage location in the central processor itself.
 The 6502 has 5 registers: the A, X, Y, S, and P registers.
 Registers are used by an assembly language program to access memory and
 perform arithmetic.
\layout Description

relocatable.
 The attribute of an object module file which contains a machine language
 program and the information necessary to make it run at any memory locations.
\layout Description

return\SpecialChar ~
code.
 A numeric value returned from a subroutine, indicating the success or failure
 of the operation attempted.
 A return code of zero usually means there were no errors.
 Any other value indicates the nature of the error, as defined by the design
 of the subroutine.
\layout Description

ROM.
 Read Only Memory.
 Memory which has a permanent value.
 The Apple monitor and Applesoft BASIC are stored in ROM.
\layout Description

sapling.
 A ProDOS file which requires only one index block (2 to 256 data blocks).
 A sapling ranges from 513 bytes to 131,072 bytes in length.
 See also seedling and tree.
\layout Description

search.
 The process of scanning a track for a given sector.
\layout Description

sector.
 The smallest updatable unit of data on a disk track.
 One sector on an Apple Disk II contains 256 data bytes.
\layout Description

sector\SpecialChar ~
address.
 A disk field which identifies the following sector data field in terms
 of its volume, track, and sector number.
 
\layout Description

sector\SpecialChar ~
data.
 A disk field which contains the actual sector data in nibbilized form.
\layout Description

seedling.
 A ProDOS file which has only a single data block (512 bytes).
 A seedling file does not require index blocks.
 See also sapling and tree.
\layout Description

seek.
 The process of moving the disk arm to a given track.
\layout Description

self-sync.
 Also called 
\begin_inset Quotes eld
\end_inset 

auto-sync
\begin_inset Quotes erd
\end_inset 

 bytes.
 Special disk bytes which contain more than 8 bits, allowing synchronization
 of the hardware to byte boundaries when reading.
\layout Description

sequential\SpecialChar ~
access.
 A mode of data retrieval where each byte of data is read in the order in
 which it was written to the disk.
\layout Description

serial.
 A communication mode which sends data bits one at a time over a single
 line or wire.
 As opposed to parallel.
\layout Description

shift.
 A logical operation which moves the bits of a byte either left or right
 one position, moving a 0 into the bit at the other end.
\layout Description

skewing.
 The process of interleaving sectors.
 See interleave.
\layout Description

soft\SpecialChar ~
error.
 A recoverable I/O error.
 A worn diskette might produce soft errors occasionally.
\layout Description

SOS.
 Sophisticated Operating System.
 The standard operating system for the Apple III computer.
\layout Description

source\SpecialChar ~
code.
 A program in a form which is understandable to humans; in a character form
 as opposed to internal binary machine format.
 Source assembly code must be processed by an assembler to translate it
 into machine or 
\begin_inset Quotes eld
\end_inset 

object
\begin_inset Quotes erd
\end_inset 

 code.
\layout Description

sparse\SpecialChar ~
file.
 A files with random organization (see random access) which contains areas
 which were never initialized.
 A sparse file might have an End Of File mark of 26 megabytes but only contain
 several hundred bytes.
\layout Description

state\SpecialChar ~
machine.
 A process (in software or hardware) which defines a unique target state,
 given an input state and certain conditions.
 A state machine approach is used in the ProDOS BASIC Interpreter to keep
 track of its video intercepts and by the hardware on the disk controller
 card to process disk data.
\layout Description

strobe.
 The act of triggering an I/O function by momentarily referencing a special
 I/O address.
 Strobing $C030 produces a click on the speaker.
 Also called 
\begin_inset Quotes eld
\end_inset 

toggling
\begin_inset Quotes erd
\end_inset 

.
\layout Description

subroutine.
 A program whose function is required repeatedly during execution, and therefore
 is called by a main program in several places.
\layout Description

system\SpecialChar ~
disk.
 A ProDOS volume which contains the system files necessary to allow ProDOS
 to be booted into memory.
 Normally, the PRODOS and BASIC.SYSTEM files are necessary.
 A STARTUP program may also be present.
 
\layout Description

system\SpecialChar ~
program.
 A ProDOS program, written in machine language, which acts as an intermediary
 between the user and the ProDOS Kernel.
 BASIC.SYSTEM, FILER, and CONVERT are all examples of System Programs.
 See also interpreter and BI.
\layout Description

table.
 A collection of data entries, having a similar format, residing in memory.
 Each entry might contain the name of a program and its address.
 For examples.
 A 
\begin_inset Quotes eld
\end_inset 

lookup
\begin_inset Quotes erd
\end_inset 

 can be performed on such a table to locate any given program by name.
 
\layout Description

toggle.
 The act of triggering an I/O function by momentarily referencing a special
 I/O address.
 Toggling $C030 produces a click on the speaker.
 Also called 
\begin_inset Quotes eld
\end_inset 

strobe
\begin_inset Quotes erd
\end_inset 

.
\layout Description

tokens.
 A method where human recognizable words may be coded to single binary bye
 values for memory compression and faster processing.
 BASIC statements are tokenized, where hex codes are assigned to words like
 IF, PRINT, and END.
\layout Description

track.
 One complete circular path of magnetic storage on a diskette.
 There are 35 concentric tracks on an Apple diskette.
\layout Description

translate\SpecialChar ~
table.
 A table of single byte codes which are to replace input codes on a one-for-one
 basis.
 A translate table is used to convert from 6-bit codes to disk codes.
\layout Description

tree.
 A ProDOS file which requires several index blocks (131,073 to 16,777,216
 bytes of data).
 See also index block, seedling, and sapling.
\layout Description

TTL.
 Transistor to Transistor Logic.
 A standard for the interconnection of integrated circuits which also defines
 the voltages which represent 0's and 1's.
\layout Description

unlocked.
 A file which allows all types of access (READ, WRITE, DELETE, RENAME, etc.).
 See also locked.
\layout Description

utility.
 A program which is used to maintain, or assist in the development of, other
 programs or disk files.
\layout Description

vector.
 A collection of pointers or JMP instructions at a fixed location in memory
 which allows access to a relocatable program or data.
\layout Description

volume.
 An identification for a diskette, disk platter, or cassette, containing
 one or more files.
\layout Description

Volume\SpecialChar ~
Directory.
 The first directory on a disk volume.
 Also called the 
\begin_inset Quotes eld
\end_inset 

root
\begin_inset Quotes erd
\end_inset 

 directory.
 All other directories must be reached by first reading the Volume Directory.
\layout Description

warmstart.
 A restart of a program which retains, as much as is possible, the work
 which was in progress at the time.
\layout Description

ZAP.
 From the IBM mainframe utility SUPERZAP.
 A program which allows updates to a disk at a byte level, using hexadecimal.
\layout Description

zero\SpecialChar ~
page.
 The first 256 bytes of memory in a 6502 based machine.
 Zero page locations have special significance to the central processor,
 making their management and assignment critical.
\layout Standard


\begin_inset ERT
status Collapsed

\layout Standard

\backslash 
end{multicols}
\end_inset 


\the_end
